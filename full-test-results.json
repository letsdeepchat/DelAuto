{"numFailedTestSuites":9,"numFailedTests":138,"numPassedTestSuites":6,"numPassedTests":144,"numPendingTestSuites":1,"numPendingTests":17,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":16,"numTotalTests":299,"openHandles":[{"message":"Timeout","name":"Error","stack":"Error: Timeout\n    at emitInitNative (node:internal/async_hooks:202:43)\n    at emitInitScript (node:internal/async_hooks:505:3)\n    at initAsyncResource (node:internal/timers:170:5)\n    at new Timeout (node:internal/timers:201:5)\n    at setInterval (node:timers:182:19)\n    at Object.setInterval (C:\\Users\\deepa\\Documents\\DelAuto\\src\\index.js:352:1)\n    at Runtime._execModule (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runtime\\build\\index.js:1268:24)\n    at Runtime._loadModule (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runtime\\build\\index.js:944:12)\n    at Runtime.requireModule (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runtime\\build\\index.js:832:12)\n    at Runtime.requireModuleOrMock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runtime\\build\\index.js:964:21)\n    at Object.require (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:5:17)\n    at Runtime._execModule (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runtime\\build\\index.js:1268:24)\n    at Runtime._loadModule (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runtime\\build\\index.js:944:12)\n    at Runtime.requireModule (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runtime\\build\\index.js:832:12)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:95:13)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"},{"message":"TCPSERVERWRAP","name":"Error","stack":"Error: TCPSERVERWRAP\n    at TCP.emitInitNative (node:internal/async_hooks:202:43)\n    at createServerHandle (node:net:1859:14)\n    at Server.setupListenHandle [as _listen2] (node:net:1902:14)\n    at listenInCluster (node:net:1997:12)\n    at Server.listen (node:net:2102:7)\n    at Object.listen (C:\\Users\\deepa\\Documents\\DelAuto\\src\\index.js:360:8)\n    at Runtime._execModule (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runtime\\build\\index.js:1268:24)\n    at Runtime._loadModule (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runtime\\build\\index.js:944:12)\n    at Runtime.requireModule (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runtime\\build\\index.js:832:12)\n    at Runtime.requireModuleOrMock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runtime\\build\\index.js:964:21)\n    at Object.require (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:5:17)\n    at Runtime._execModule (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runtime\\build\\index.js:1268:24)\n    at Runtime._loadModule (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runtime\\build\\index.js:944:12)\n    at Runtime.requireModule (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runtime\\build\\index.js:832:12)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:95:13)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"},{"message":"TCPSERVERWRAP","name":"Error","stack":"Error: TCPSERVERWRAP\n    at TCP.emitInitNative (node:internal/async_hooks:202:43)\n    at createServerHandle (node:net:1859:14)\n    at Server.setupListenHandle [as _listen2] (node:net:1902:14)\n    at listenInCluster (node:net:1997:12)\n    at Server.listen (node:net:2102:7)\n    at Test.serverAddress (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:63:35)\n    at new Test (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:49:14)\n    at Object.obj.<computed> [as post] (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\index.js:39:18)\n    at Object.post (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:428:14)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:549:9)\n    at processTimers (node:internal/timers:523:7)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"}],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1761196406005,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Security Tests","Authentication Security"],"duration":319,"failing":false,"failureDetails":[{"matcherResult":{"expected":false,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:47:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:48:36)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Security Tests Authentication Security should reject requests without authentication token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196421454,"status":"failed","title":"should reject requests without authentication token"},{"ancestorTitles":["Security Tests","Authentication Security"],"duration":448,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Security Tests Authentication Security should reject malformed authorization headers","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196421781,"status":"passed","title":"should reject malformed authorization headers"},{"ancestorTitles":["Security Tests","Authentication Security"],"duration":126,"failing":false,"failureDetails":[{"matcherResult":{"expected":false,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:75:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:76:36)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Security Tests Authentication Security should reject expired tokens","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196422245,"status":"failed","title":"should reject expired tokens"},{"ancestorTitles":["Security Tests","Authentication Security"],"duration":81,"failing":false,"failureDetails":[{"matcherResult":{"expected":false,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:88:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:89:36)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Security Tests Authentication Security should reject tampered tokens","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196422373,"status":"failed","title":"should reject tampered tokens"},{"ancestorTitles":["Security Tests","Authentication Security"],"duration":2198,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Security Tests Authentication Security should implement proper password hashing","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1761196422456,"status":"passed","title":"should implement proper password hashing"},{"ancestorTitles":["Security Tests","Authentication Security"],"duration":284,"failing":false,"failureDetails":[{"matcherResult":{"expected":false,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:124:12)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:125:38)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Security Tests Authentication Security should enforce strong password requirements","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196424657,"status":"failed","title":"should enforce strong password requirements"},{"ancestorTitles":["Security Tests","Authentication Security"],"duration":10050,"failing":false,"failureDetails":[{"message":"thrown: \"Exceeded timeout of 10000 ms for a test.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\""}],"failureMessages":["Error: thrown: \"Exceeded timeout of 10000 ms for a test.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n    at it (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:131:5)\n    at _dispatchDescribe (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:604:26)\n    at describe (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:572:44)\n    at describe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:42:3)\n    at _dispatchDescribe (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:604:26)\n    at describe (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:572:44)\n    at Object.describe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:8:1)\n    at Runtime._execModule (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runtime\\build\\index.js:1268:24)\n    at Runtime._loadModule (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runtime\\build\\index.js:944:12)\n    at Runtime.requireModule (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runtime\\build\\index.js:832:12)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:95:13)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"Security Tests Authentication Security should prevent brute force attacks with rate limiting","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196424996,"status":"failed","title":"should prevent brute force attacks with rate limiting"},{"ancestorTitles":["Security Tests","Authorization Security"],"duration":183,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 403 \"Forbidden\", got 429 \"Too Many Requests\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:166:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Security Tests Authorization Security should enforce role-based access control","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196435060,"status":"failed","title":"should enforce role-based access control"},{"ancestorTitles":["Security Tests","Authorization Security"],"duration":695,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 403 \"Forbidden\", got 404 \"Not Found\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:184:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Security Tests Authorization Security should prevent agents from accessing other agents data","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196435287,"status":"failed","title":"should prevent agents from accessing other agents data"},{"ancestorTitles":["Security Tests","Authorization Security"],"duration":12,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading '_id')\n    at Object._id (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:200:51)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"Security Tests Authorization Security should validate resource ownership","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196435997,"status":"failed","title":"should validate resource ownership"},{"ancestorTitles":["Security Tests","Input Validation Security"],"duration":970,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Security Tests Input Validation Security should prevent SQL injection attempts","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1761196436029,"status":"passed","title":"should prevent SQL injection attempts"},{"ancestorTitles":["Security Tests","Input Validation Security"],"duration":102,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 400 \"Bad Request\", got 401 \"Unauthorized\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:245:12)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Security Tests Input Validation Security should prevent NoSQL injection attempts","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196437010,"status":"failed","title":"should prevent NoSQL injection attempts"},{"ancestorTitles":["Security Tests","Input Validation Security"],"duration":514,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Security Tests Input Validation Security should prevent XSS attacks","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196437114,"status":"passed","title":"should prevent XSS attacks"},{"ancestorTitles":["Security Tests","Input Validation Security"],"duration":148,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'file_type')\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:287:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at file_type (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:290:34)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Security Tests Input Validation Security should validate file upload restrictions","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196437649,"status":"failed","title":"should validate file upload restrictions"},{"ancestorTitles":["Security Tests","Input Validation Security"],"duration":189,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: expect(...).toBeOneOf is not a function\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:308:12)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at toBeOneOf (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:309:32)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Security Tests Input Validation Security should prevent path traversal attacks","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196437814,"status":"failed","title":"should prevent path traversal attacks"},{"ancestorTitles":["Security Tests","API Security Headers"],"duration":166,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoHaveProperty\u001b[2m(\u001b[22m\u001b[32mpath\u001b[39m\u001b[2m, \u001b[22m\u001b[32mvalue\u001b[39m\u001b[2m)\u001b[22m\n\nExpected path: \u001b[32m\"x-frame-options\"\u001b[39m\n\nExpected value: \u001b[32m\"DENY\"\u001b[39m\nReceived value: \u001b[31m\"SAMEORIGIN\"\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoHaveProperty\u001b[2m(\u001b[22m\u001b[32mpath\u001b[39m\u001b[2m, \u001b[22m\u001b[32mvalue\u001b[39m\u001b[2m)\u001b[22m\n\nExpected path: \u001b[32m\"x-frame-options\"\u001b[39m\n\nExpected value: \u001b[32m\"DENY\"\u001b[39m\nReceived value: \u001b[31m\"SAMEORIGIN\"\u001b[39m\n    at Object.toHaveProperty (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:323:32)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Security Tests API Security Headers should include security headers in responses","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196438017,"status":"failed","title":"should include security headers in responses"},{"ancestorTitles":["Security Tests","API Security Headers"],"duration":123,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Security Tests API Security Headers should not expose sensitive server information","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196438209,"status":"passed","title":"should not expose sensitive server information"},{"ancestorTitles":["Security Tests","API Security Headers"],"duration":54,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Security Tests API Security Headers should implement proper CORS policy","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196438335,"status":"passed","title":"should implement proper CORS policy"},{"ancestorTitles":["Security Tests","Webhook Security"],"duration":125,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 401 \"Unauthorized\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:363:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Security Tests Webhook Security should validate Twilio webhook signatures","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196438411,"status":"failed","title":"should validate Twilio webhook signatures"},{"ancestorTitles":["Security Tests","Webhook Security"],"duration":10009,"failing":false,"failureDetails":[{"message":"thrown: \"Exceeded timeout of 10000 ms for a test.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\""}],"failureMessages":["Error: thrown: \"Exceeded timeout of 10000 ms for a test.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n    at it (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:381:5)\n    at _dispatchDescribe (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:604:26)\n    at describe (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:572:44)\n    at describe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:350:3)\n    at _dispatchDescribe (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:604:26)\n    at describe (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:572:44)\n    at Object.describe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:8:1)\n    at Runtime._execModule (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runtime\\build\\index.js:1268:24)\n    at Runtime._loadModule (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runtime\\build\\index.js:944:12)\n    at Runtime.requireModule (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runtime\\build\\index.js:832:12)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:95:13)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"Security Tests Webhook Security should prevent webhook replay attacks","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196438558,"status":"failed","title":"should prevent webhook replay attacks"},{"ancestorTitles":["Security Tests","Rate Limiting Security"],"duration":16600,"failing":false,"failureDetails":[{"message":"thrown: \"Exceeded timeout of 10000 ms for a test.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\""}],"failureMessages":["Error: thrown: \"Exceeded timeout of 10000 ms for a test.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n    at it (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:402:5)\n    at _dispatchDescribe (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:604:26)\n    at describe (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:572:44)\n    at describe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:401:3)\n    at _dispatchDescribe (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:604:26)\n    at describe (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:572:44)\n    at Object.describe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:8:1)\n    at Runtime._execModule (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runtime\\build\\index.js:1268:24)\n    at Runtime._loadModule (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runtime\\build\\index.js:944:12)\n    at Runtime.requireModule (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runtime\\build\\index.js:832:12)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:95:13)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"Security Tests Rate Limiting Security should implement IP-based rate limiting","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196448575,"status":"failed","title":"should implement IP-based rate limiting"},{"ancestorTitles":["Security Tests","Rate Limiting Security"],"duration":17,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading '_id')\n    at Object._id (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:431:46)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:549:9)\n    at processTimers (node:internal/timers:523:7)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"Security Tests Rate Limiting Security should implement user-based rate limiting","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196465182,"status":"failed","title":"should implement user-based rate limiting"},{"ancestorTitles":["Security Tests","Rate Limiting Security"],"duration":2510,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Security Tests Rate Limiting Security should implement endpoint-specific rate limits","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196465204,"status":"passed","title":"should implement endpoint-specific rate limits"},{"ancestorTitles":["Security Tests","Data Protection"],"duration":91,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 401 \"Unauthorized\", got 429 \"Too Many Requests\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:470:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Security Tests Data Protection should not expose sensitive data in error messages","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196467735,"status":"failed","title":"should not expose sensitive data in error messages"},{"ancestorTitles":["Security Tests","Data Protection"],"duration":61,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 429 \"Too Many Requests\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:482:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Security Tests Data Protection should mask sensitive fields in API responses","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196467831,"status":"failed","title":"should mask sensitive fields in API responses"},{"ancestorTitles":["Security Tests","Data Protection"],"duration":77,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 429 \"Too Many Requests\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:499:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Security Tests Data Protection should implement proper data sanitization","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196467907,"status":"failed","title":"should implement proper data sanitization"},{"ancestorTitles":["Security Tests","Session Security"],"duration":48,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 429 \"Too Many Requests\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:520:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Security Tests Session Security should implement secure session management","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196467987,"status":"failed","title":"should implement secure session management"},{"ancestorTitles":["Security Tests","Session Security"],"duration":45,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'token')\n    at Object.token (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:545:45)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Security Tests Session Security should invalidate tokens on logout","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196468037,"status":"failed","title":"should invalidate tokens on logout"},{"ancestorTitles":["Security Tests","Error Handling Security"],"duration":76,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 404 \"Not Found\", got 429 \"Too Many Requests\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:575:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Security Tests Error Handling Security should not leak stack traces in production","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196468092,"status":"failed","title":"should not leak stack traces in production"},{"ancestorTitles":["Security Tests","Error Handling Security"],"duration":51,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Security Tests Error Handling Security should handle database errors securely","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196468171,"status":"passed","title":"should handle database errors securely"},{"ancestorTitles":["Security Tests","Content Security"],"duration":72,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 400 \"Bad Request\", got 429 \"Too Many Requests\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js:609:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Security Tests Content Security should implement proper content type validation","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196468238,"status":"failed","title":"should implement proper content type validation"},{"ancestorTitles":["Security Tests","Content Security"],"duration":219,"failing":false,"failureDetails":[{"errno":-4077,"code":"ECONNRESET","syscall":"read"}],"failureMessages":["Error: read ECONNRESET\n    at TCP.onStreamRead (node:internal/stream_base_commons:216:20)\n    at TCP.callbackTrampoline (node:internal/async_hooks:130:17)"],"fullName":"Security Tests Content Security should limit request size","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196468321,"status":"failed","title":"should limit request size"},{"ancestorTitles":["Security Tests","Timing Attack Prevention"],"duration":99,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Security Tests Timing Attack Prevention should use constant-time comparison for authentication","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196468541,"status":"passed","title":"should use constant-time comparison for authentication"}],"endTime":1761196468975,"message":"\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mSecurity Tests  Authentication Security  should reject requests without authentication token\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mfalse\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 45 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/deliveries'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 46 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m401\u001b[39m)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 47 |\u001b[39m         \u001b[33m.\u001b[39mexpect(res \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 48 |\u001b[39m           expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 49 |\u001b[39m           expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Access token required'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 50 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:47:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:48:36)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mSecurity Tests  Authentication Security  should reject expired tokens\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mfalse\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 73 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${expiredToken}`\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 74 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m401\u001b[39m)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 75 |\u001b[39m         \u001b[33m.\u001b[39mexpect(res \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 76 |\u001b[39m           expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 77 |\u001b[39m           expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Token expired'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 78 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:75:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:76:36)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mSecurity Tests  Authentication Security  should reject tampered tokens\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mfalse\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 86 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${tamperedToken}`\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 87 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m401\u001b[39m)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 88 |\u001b[39m         \u001b[33m.\u001b[39mexpect(res \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 89 |\u001b[39m           expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 90 |\u001b[39m           expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Invalid token'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 91 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:88:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:89:36)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mSecurity Tests  Authentication Security  should enforce strong password requirements\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mfalse\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m           })\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m           \u001b[33m.\u001b[39mexpect(\u001b[35m400\u001b[39m)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m           \u001b[33m.\u001b[39mexpect(res \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m             expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m             expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoContain(\u001b[32m'password'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m           })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:124:12)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:125:38)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mSecurity Tests  Authentication Security  should prevent brute force attacks with rate limiting\u001b[39m\u001b[22m\n\n    thrown: \"Exceeded timeout of 10000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 129 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 130 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 131 |\u001b[39m     it(\u001b[32m'should prevent brute force attacks with rate limiting'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 132 |\u001b[39m       \u001b[36mconst\u001b[39m attempts \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 133 |\u001b[39m       \u001b[22m\n\u001b[2m     \u001b[90m 134 |\u001b[39m       \u001b[90m// Make multiple failed login attempts\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat it (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:131:5)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat describe (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:42:3)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.describe (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:8:1)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mSecurity Tests  Authorization Security  should enforce role-based access control\u001b[39m\u001b[22m\n\n    expected 403 \"Forbidden\", got 429 \"Too Many Requests\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 164 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/admin/system-stats'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 165 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${agentToken}`\u001b[39m)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 166 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m403\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 167 |\u001b[39m         \u001b[33m.\u001b[39mexpect(res \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 168 |\u001b[39m           expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 169 |\u001b[39m           expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Insufficient permissions'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:166:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mSecurity Tests  Authorization Security  should prevent agents from accessing other agents data\u001b[39m\u001b[22m\n\n    expected 403 \"Forbidden\", got 404 \"Not Found\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 182 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/agents/agent2/deliveries'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 183 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${agent1Token}`\u001b[39m)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 184 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m403\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 185 |\u001b[39m         \u001b[33m.\u001b[39mexpect(res \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 186 |\u001b[39m           expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 187 |\u001b[39m           expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Access denied'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:184:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mSecurity Tests  Authorization Security  should validate resource ownership\u001b[39m\u001b[22m\n\n    TypeError: Cannot read properties of undefined (reading '_id')\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 198 |\u001b[39m       \u001b[90m// Try to access delivery not assigned to this agent\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 199 |\u001b[39m       \u001b[36mawait\u001b[39m request(app)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 200 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m`/api/deliveries/${testData.delivery._id}`\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 201 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${agentToken}`\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 202 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m403\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 203 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object._id (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:200:51)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mSecurity Tests  Input Validation Security  should prevent NoSQL injection attempts\u001b[39m\u001b[22m\n\n    expected 400 \"Bad Request\", got 401 \"Unauthorized\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 243 |\u001b[39m             address\u001b[33m:\u001b[39m \u001b[32m'123 Test Street'\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 244 |\u001b[39m           })\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 245 |\u001b[39m           \u001b[33m.\u001b[39mexpect(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// Should be rejected by validation\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 246 |\u001b[39m       }\u001b[22m\n\u001b[2m     \u001b[90m 247 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 248 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:245:12)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mSecurity Tests  Input Validation Security  should validate file upload restrictions\u001b[39m\u001b[22m\n\n    TypeError: Cannot read properties of undefined (reading 'file_type')\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 285 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${validToken}`\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 286 |\u001b[39m         \u001b[33m.\u001b[39mattach(\u001b[32m'file'\u001b[39m\u001b[33m,\u001b[39m maliciousFile\u001b[33m,\u001b[39m \u001b[32m'malicious.php'\u001b[39m)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 287 |\u001b[39m         \u001b[33m.\u001b[39mexpect(res \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 288 |\u001b[39m           \u001b[36mif\u001b[39m (res\u001b[33m.\u001b[39mstatus \u001b[33m!==\u001b[39m \u001b[35m400\u001b[39m) {\u001b[22m\n\u001b[2m     \u001b[90m 289 |\u001b[39m             \u001b[90m// If file was processed, ensure it's not executable\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 290 |\u001b[39m             expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mfile_type)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoBe(\u001b[32m'application/x-php'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:287:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat file_type (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:290:34)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mSecurity Tests  Input Validation Security  should prevent path traversal attacks\u001b[39m\u001b[22m\n\n    TypeError: expect(...).toBeOneOf is not a function\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 306 |\u001b[39m           \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m`/api/recordings/${path}`\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 307 |\u001b[39m           \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${validToken}`\u001b[39m)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 308 |\u001b[39m           \u001b[33m.\u001b[39mexpect(res \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 309 |\u001b[39m             expect(res\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBeOneOf([\u001b[35m400\u001b[39m\u001b[33m,\u001b[39m \u001b[35m403\u001b[39m\u001b[33m,\u001b[39m \u001b[35m404\u001b[39m])\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 310 |\u001b[39m             expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoContain(\u001b[32m'etc/passwd'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 311 |\u001b[39m           })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:308:12)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat toBeOneOf (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:309:32)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mSecurity Tests  API Security Headers  should include security headers in responses\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoHaveProperty\u001b[2m(\u001b[22m\u001b[32mpath\u001b[39m\u001b[2m, \u001b[22m\u001b[32mvalue\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected path: \u001b[32m\"x-frame-options\"\u001b[39m\n\n    Expected value: \u001b[32m\"DENY\"\u001b[39m\n    Received value: \u001b[31m\"SAMEORIGIN\"\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 321 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 322 |\u001b[39m       expect(response\u001b[33m.\u001b[39mheaders)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'x-content-type-options'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'nosniff'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 323 |\u001b[39m       expect(response\u001b[33m.\u001b[39mheaders)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'x-frame-options'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'DENY'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 324 |\u001b[39m       expect(response\u001b[33m.\u001b[39mheaders)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'x-xss-protection'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'1; mode=block'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 325 |\u001b[39m       expect(response\u001b[33m.\u001b[39mheaders)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'strict-transport-security'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 326 |\u001b[39m       expect(response\u001b[33m.\u001b[39mheaders)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'content-security-policy'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveProperty (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:323:32)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mSecurity Tests  Webhook Security  should validate Twilio webhook signatures\u001b[39m\u001b[22m\n\n    expected 401 \"Unauthorized\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 361 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/call-status'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 362 |\u001b[39m         \u001b[33m.\u001b[39msend(webhookData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 363 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m401\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 364 |\u001b[39m         \u001b[33m.\u001b[39mexpect(res \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 365 |\u001b[39m           expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 366 |\u001b[39m           expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Missing webhook signature'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:363:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mSecurity Tests  Webhook Security  should prevent webhook replay attacks\u001b[39m\u001b[22m\n\n    thrown: \"Exceeded timeout of 10000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 379 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 380 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 381 |\u001b[39m     it(\u001b[32m'should prevent webhook replay attacks'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 382 |\u001b[39m       \u001b[36mconst\u001b[39m webhookData \u001b[33m=\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 383 |\u001b[39m         \u001b[33mCallSid\u001b[39m\u001b[33m:\u001b[39m \u001b[32m'CA123456789'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 384 |\u001b[39m         \u001b[33mFrom\u001b[39m\u001b[33m:\u001b[39m \u001b[32m'+1234567890'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat it (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:381:5)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat describe (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:350:3)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.describe (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:8:1)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mSecurity Tests  Rate Limiting Security  should implement IP-based rate limiting\u001b[39m\u001b[22m\n\n    thrown: \"Exceeded timeout of 10000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 400 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 401 |\u001b[39m   describe(\u001b[32m'Rate Limiting Security'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 402 |\u001b[39m     it(\u001b[32m'should implement IP-based rate limiting'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 403 |\u001b[39m       \u001b[36mconst\u001b[39m promises \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 404 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 405 |\u001b[39m       \u001b[90m// Make many requests from same IP\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat it (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:402:5)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat describe (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:401:3)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.describe (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:8:1)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mSecurity Tests  Rate Limiting Security  should implement user-based rate limiting\u001b[39m\u001b[22m\n\n    TypeError: Cannot read properties of undefined (reading '_id')\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 429 |\u001b[39m             \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${validToken}`\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 430 |\u001b[39m             \u001b[33m.\u001b[39msend({\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 431 |\u001b[39m               delivery_id\u001b[33m:\u001b[39m testData\u001b[33m.\u001b[39mdelivery\u001b[33m.\u001b[39m_id\u001b[33m.\u001b[39mtoString()\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 432 |\u001b[39m               customer_phone\u001b[33m:\u001b[39m \u001b[32m'+1234567890'\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 433 |\u001b[39m             })\u001b[22m\n\u001b[2m     \u001b[90m 434 |\u001b[39m         )\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object._id (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:431:46)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mSecurity Tests  Data Protection  should not expose sensitive data in error messages\u001b[39m\u001b[22m\n\n    expected 401 \"Unauthorized\", got 429 \"Too Many Requests\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 468 |\u001b[39m           password\u001b[33m:\u001b[39m \u001b[32m'wrongpassword'\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 469 |\u001b[39m         })\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 470 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m401\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 471 |\u001b[39m         \u001b[33m.\u001b[39mexpect(res \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 472 |\u001b[39m           expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoContain(\u001b[32m'password'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 473 |\u001b[39m           expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoContain(\u001b[32m'hash'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:470:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mSecurity Tests  Data Protection  should mask sensitive fields in API responses\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 429 \"Too Many Requests\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 480 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/agents/profile'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 481 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${validToken}`\u001b[39m)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 482 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 483 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 484 |\u001b[39m       \u001b[90m// Phone numbers should be masked\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 485 |\u001b[39m       \u001b[36mif\u001b[39m (response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mphone) {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:482:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mSecurity Tests  Data Protection  should implement proper data sanitization\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 429 \"Too Many Requests\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 497 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${validToken}`\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 498 |\u001b[39m         \u001b[33m.\u001b[39mquery({ limit\u001b[33m:\u001b[39m \u001b[35m1\u001b[39m })\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 499 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 500 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 501 |\u001b[39m       \u001b[36mif\u001b[39m (response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mdeliveries\u001b[33m.\u001b[39mlength \u001b[33m>\u001b[39m \u001b[35m0\u001b[39m) {\u001b[22m\n\u001b[2m     \u001b[90m 502 |\u001b[39m         \u001b[36mconst\u001b[39m delivery \u001b[33m=\u001b[39m response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mdeliveries[\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:499:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mSecurity Tests  Session Security  should implement secure session management\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 429 \"Too Many Requests\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 518 |\u001b[39m           password\u001b[33m:\u001b[39m \u001b[32m'test123'\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 519 |\u001b[39m         })\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 520 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 521 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 522 |\u001b[39m       \u001b[36mconst\u001b[39m token \u001b[33m=\u001b[39m loginResponse\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mtoken\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 523 |\u001b[39m       \u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:520:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mSecurity Tests  Session Security  should invalidate tokens on logout\u001b[39m\u001b[22m\n\n    TypeError: Cannot read properties of undefined (reading 'token')\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 543 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 544 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 545 |\u001b[39m       \u001b[36mconst\u001b[39m token \u001b[33m=\u001b[39m loginResponse\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mtoken\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 546 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 547 |\u001b[39m       \u001b[90m// Use token successfully\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 548 |\u001b[39m       \u001b[36mawait\u001b[39m request(app)\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.token (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:545:45)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mSecurity Tests  Error Handling Security  should not leak stack traces in production\u001b[39m\u001b[22m\n\n    expected 404 \"Not Found\", got 429 \"Too Many Requests\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 573 |\u001b[39m       \u001b[36mawait\u001b[39m request(app)\u001b[22m\n\u001b[2m     \u001b[90m 574 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/nonexistent-endpoint'\u001b[39m)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 575 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m404\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 576 |\u001b[39m         \u001b[33m.\u001b[39mexpect(res \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 577 |\u001b[39m           expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mstack)\u001b[33m.\u001b[39mtoBeUndefined()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 578 |\u001b[39m           expect(res\u001b[33m.\u001b[39mtext)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoContain(\u001b[32m'Error:'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:575:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mSecurity Tests  Content Security  should implement proper content type validation\u001b[39m\u001b[22m\n\n    expected 400 \"Bad Request\", got 429 \"Too Many Requests\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 607 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Content-Type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'application/xml'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 608 |\u001b[39m         \u001b[33m.\u001b[39msend(\u001b[32m'<xml><test>data</test></xml>'\u001b[39m)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 609 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 610 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 611 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 612 |\u001b[39m     it(\u001b[32m'should limit request size'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36msecurity/security.test.js\u001b[39m\u001b[0m\u001b[2m:609:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mSecurity Tests  Content Security  should limit request size\u001b[39m\u001b[22m\n\n    read ECONNRESET\n\n","name":"C:\\Users\\deepa\\Documents\\DelAuto\\tests\\security\\security.test.js","startTime":1761196406252,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Performance Load Tests","API endpoint performance"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Performance Load Tests API endpoint performance should handle high load on delivery listing endpoint","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196471115,"status":"pending","title":"should handle high load on delivery listing endpoint"},{"ancestorTitles":["Performance Load Tests","API endpoint performance"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Performance Load Tests API endpoint performance should handle concurrent call initiations","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196471115,"status":"pending","title":"should handle concurrent call initiations"},{"ancestorTitles":["Performance Load Tests","API endpoint performance"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Performance Load Tests API endpoint performance should handle webhook bursts efficiently","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196471115,"status":"pending","title":"should handle webhook bursts efficiently"},{"ancestorTitles":["Performance Load Tests","database performance"],"duration":7,"failing":false,"failureDetails":[{}],"failureMessages":["ReferenceError: app is not defined\n    at app (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\performance\\loadTest.test.js:119:24)\n    at Function.from (<anonymous>)\n    at Object.from (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\performance\\loadTest.test.js:118:30)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"Performance Load Tests database performance should perform efficient database queries under load","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196471115,"status":"failed","title":"should perform efficient database queries under load"},{"ancestorTitles":["Performance Load Tests","database performance"],"duration":2,"failing":false,"failureDetails":[{}],"failureMessages":["ReferenceError: app is not defined\n    at app (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\performance\\loadTest.test.js:145:24)\n    at Function.from (<anonymous>)\n    at Object.from (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\performance\\loadTest.test.js:144:39)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"Performance Load Tests database performance should handle complex analytics queries efficiently","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196471171,"status":"failed","title":"should handle complex analytics queries efficiently"},{"ancestorTitles":["Performance Load Tests","memory and resource usage"],"duration":7,"failing":false,"failureDetails":[{}],"failureMessages":["ReferenceError: app is not defined\n    at Object.app (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\performance\\loadTest.test.js:176:19)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"Performance Load Tests memory and resource usage should maintain stable memory usage under sustained load","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196471179,"status":"failed","title":"should maintain stable memory usage under sustained load"},{"ancestorTitles":["Performance Load Tests","memory and resource usage"],"duration":4,"failing":false,"failureDetails":[{}],"failureMessages":["ReferenceError: app is not defined\n    at Object.app (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\performance\\loadTest.test.js:200:40)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"Performance Load Tests memory and resource usage should handle CPU-intensive operations without blocking","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196471191,"status":"failed","title":"should handle CPU-intensive operations without blocking"},{"ancestorTitles":["Performance Load Tests","concurrent user scenarios"],"duration":5,"failing":false,"failureDetails":[{}],"failureMessages":["ReferenceError: app is not defined\n    at app (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\performance\\loadTest.test.js:236:42)\n    at Function.from (<anonymous>)\n    at Object.from (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\performance\\loadTest.test.js:235:15)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"Performance Load Tests concurrent user scenarios should handle multiple agents accessing deliveries simultaneously","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196471206,"status":"failed","title":"should handle multiple agents accessing deliveries simultaneously"},{"ancestorTitles":["Performance Load Tests","concurrent user scenarios"],"duration":3,"failing":false,"failureDetails":[{}],"failureMessages":["ReferenceError: app is not defined\n    at app (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\performance\\loadTest.test.js:274:17)\n    at Function.from (<anonymous>)\n    at Object.from (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\performance\\loadTest.test.js:273:34)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"Performance Load Tests concurrent user scenarios should handle mixed read/write operations efficiently","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196471224,"status":"failed","title":"should handle mixed read/write operations efficiently"},{"ancestorTitles":["Performance Load Tests","stress testing"],"duration":12308,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeLessThan\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: < \u001b[32m5\u001b[39m\nReceived:   \u001b[31m100\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeLessThan\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: < \u001b[32m5\u001b[39m\nReceived:   \u001b[31m100\u001b[39m\n    at Object.toBeLessThan (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\performance\\loadTest.test.js:334:25)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runNextTicks (node:internal/process/task_queues:69:3)\n    at listOnTimeout (node:internal/timers:549:9)\n    at processTimers (node:internal/timers:523:7)"],"fullName":"Performance Load Tests stress testing should gracefully handle overload conditions","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196471239,"status":"failed","title":"should gracefully handle overload conditions"},{"ancestorTitles":["Performance Load Tests","stress testing"],"duration":3979,"failing":false,"failureDetails":[{}],"failureMessages":["ReferenceError: app is not defined\n    at Object.app (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\performance\\loadTest.test.js:355:41)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at processTimers (node:internal/timers:520:9)"],"fullName":"Performance Load Tests stress testing should recover from temporary overload","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196483551,"status":"failed","title":"should recover from temporary overload"},{"ancestorTitles":["Performance Load Tests","real-world scenarios"],"duration":2,"failing":false,"failureDetails":[{}],"failureMessages":["ReferenceError: app is not defined\n    at app (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\performance\\loadTest.test.js:377:17)\n    at Function.from (<anonymous>)\n    at Object.from (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\performance\\loadTest.test.js:376:38)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at processTimers (node:internal/timers:520:9)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"Performance Load Tests real-world scenarios should handle peak delivery creation periods","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196487561,"status":"failed","title":"should handle peak delivery creation periods"},{"ancestorTitles":["Performance Load Tests","real-world scenarios"],"duration":20,"failing":false,"failureDetails":[{}],"failureMessages":["ReferenceError: app is not defined\n    at app (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\performance\\loadTest.test.js:405:17)\n    at Function.from (<anonymous>)\n    at Object.from (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\performance\\loadTest.test.js:404:39)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at processTimers (node:internal/timers:520:9)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"Performance Load Tests real-world scenarios should handle analytics dashboard refresh during busy periods","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196487589,"status":"failed","title":"should handle analytics dashboard refresh during busy periods"},{"ancestorTitles":["Performance Load Tests","resource cleanup"],"duration":2,"failing":false,"failureDetails":[{}],"failureMessages":["ReferenceError: app is not defined\n    at Object.app (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\performance\\loadTest.test.js:433:42)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at processTimers (node:internal/timers:520:9)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"Performance Load Tests resource cleanup should properly clean up resources after high load","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196487697,"status":"failed","title":"should properly clean up resources after high load"}],"endTime":1761196488522,"message":"\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mPerformance Load Tests  database performance  should perform efficient database queries under load\u001b[39m\u001b[22m\n\n    ReferenceError: app is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 117 |\u001b[39m       \u001b[90m// Simulate concurrent database operations\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 118 |\u001b[39m       \u001b[36mconst\u001b[39m promises \u001b[33m=\u001b[39m \u001b[33mArray\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m({ length\u001b[33m:\u001b[39m \u001b[35m50\u001b[39m }\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m (_\u001b[33m,\u001b[39m i) \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 119 |\u001b[39m         \u001b[36mreturn\u001b[39m request(app)\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 120 |\u001b[39m           \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/deliveries'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 121 |\u001b[39m           \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${authToken}`\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 122 |\u001b[39m           \u001b[33m.\u001b[39mquery({\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat app (\u001b[22m\u001b[2m\u001b[0m\u001b[36mperformance/loadTest.test.js\u001b[39m\u001b[0m\u001b[2m:119:24)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at Function.from (<anonymous>)\u001b[22m\n\u001b[2m      \u001b[2mat Object.from (\u001b[22m\u001b[2m\u001b[0m\u001b[36mperformance/loadTest.test.js\u001b[39m\u001b[0m\u001b[2m:118:30)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mPerformance Load Tests  database performance  should handle complex analytics queries efficiently\u001b[39m\u001b[22m\n\n    ReferenceError: app is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 143 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 144 |\u001b[39m       \u001b[36mconst\u001b[39m analyticsPromises \u001b[33m=\u001b[39m \u001b[33mArray\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m({ length\u001b[33m:\u001b[39m \u001b[35m10\u001b[39m }\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 145 |\u001b[39m         \u001b[36mreturn\u001b[39m request(app)\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 146 |\u001b[39m           \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/analytics/dashboard'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 147 |\u001b[39m           \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${authToken}`\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 148 |\u001b[39m           \u001b[33m.\u001b[39mquery({\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat app (\u001b[22m\u001b[2m\u001b[0m\u001b[36mperformance/loadTest.test.js\u001b[39m\u001b[0m\u001b[2m:145:24)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at Function.from (<anonymous>)\u001b[22m\n\u001b[2m      \u001b[2mat Object.from (\u001b[22m\u001b[2m\u001b[0m\u001b[36mperformance/loadTest.test.js\u001b[39m\u001b[0m\u001b[2m:144:39)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mPerformance Load Tests  memory and resource usage  should maintain stable memory usage under sustained load\u001b[39m\u001b[22m\n\n    ReferenceError: app is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 174 |\u001b[39m       \u001b[36mfor\u001b[39m (\u001b[36mlet\u001b[39m i \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m i \u001b[33m<\u001b[39m \u001b[35m100\u001b[39m\u001b[33m;\u001b[39m i\u001b[33m++\u001b[39m) {\u001b[22m\n\u001b[2m     \u001b[90m 175 |\u001b[39m         promises\u001b[33m.\u001b[39mpush(\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 176 |\u001b[39m           request(app)\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 177 |\u001b[39m             \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/deliveries'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 178 |\u001b[39m             \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${authToken}`\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 179 |\u001b[39m         )\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.app (\u001b[22m\u001b[2m\u001b[0m\u001b[36mperformance/loadTest.test.js\u001b[39m\u001b[0m\u001b[2m:176:19)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mPerformance Load Tests  memory and resource usage  should handle CPU-intensive operations without blocking\u001b[39m\u001b[22m\n\n    ReferenceError: app is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 198 |\u001b[39m       \u001b[22m\n\u001b[2m     \u001b[90m 199 |\u001b[39m       \u001b[90m// Start CPU-intensive analytics calculation\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 200 |\u001b[39m       \u001b[36mconst\u001b[39m analyticsPromise \u001b[33m=\u001b[39m request(app)\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 201 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/analytics/ai/generate-insights'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 202 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${authToken}`\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 203 |\u001b[39m         \u001b[33m.\u001b[39mquery({\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.app (\u001b[22m\u001b[2m\u001b[0m\u001b[36mperformance/loadTest.test.js\u001b[39m\u001b[0m\u001b[2m:200:40)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mPerformance Load Tests  concurrent user scenarios  should handle multiple agents accessing deliveries simultaneously\u001b[39m\u001b[22m\n\n    ReferenceError: app is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 234 |\u001b[39m       \u001b[36mconst\u001b[39m agentTokens \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mall(\u001b[22m\n\u001b[2m     \u001b[90m 235 |\u001b[39m         \u001b[33mArray\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m({ length\u001b[33m:\u001b[39m \u001b[35m10\u001b[39m }\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m (_\u001b[33m,\u001b[39m i) \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 236 |\u001b[39m           \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request(app)\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 237 |\u001b[39m             \u001b[33m.\u001b[39mpost(\u001b[32m'/api/auth/login'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 238 |\u001b[39m             \u001b[33m.\u001b[39msend({\u001b[22m\n\u001b[2m     \u001b[90m 239 |\u001b[39m               email\u001b[33m:\u001b[39m \u001b[32m`agent${i}@test.com`\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat app (\u001b[22m\u001b[2m\u001b[0m\u001b[36mperformance/loadTest.test.js\u001b[39m\u001b[0m\u001b[2m:236:42)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at Function.from (<anonymous>)\u001b[22m\n\u001b[2m      \u001b[2mat Object.from (\u001b[22m\u001b[2m\u001b[0m\u001b[36mperformance/loadTest.test.js\u001b[39m\u001b[0m\u001b[2m:235:15)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mPerformance Load Tests  concurrent user scenarios  should handle mixed read/write operations efficiently\u001b[39m\u001b[22m\n\n    ReferenceError: app is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 272 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 273 |\u001b[39m       \u001b[36mconst\u001b[39m readPromises \u001b[33m=\u001b[39m \u001b[33mArray\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m({ length\u001b[33m:\u001b[39m \u001b[35m30\u001b[39m }\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 274 |\u001b[39m         request(app)\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 275 |\u001b[39m           \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/deliveries'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 276 |\u001b[39m           \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${authToken}`\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 277 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat app (\u001b[22m\u001b[2m\u001b[0m\u001b[36mperformance/loadTest.test.js\u001b[39m\u001b[0m\u001b[2m:274:17)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at Function.from (<anonymous>)\u001b[22m\n\u001b[2m      \u001b[2mat Object.from (\u001b[22m\u001b[2m\u001b[0m\u001b[36mperformance/loadTest.test.js\u001b[39m\u001b[0m\u001b[2m:273:34)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mPerformance Load Tests  stress testing  should gracefully handle overload conditions\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeLessThan\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected: < \u001b[32m5\u001b[39m\n    Received:   \u001b[31m100\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 332 |\u001b[39m       \u001b[90m// Should not have too many errors even under stress\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 333 |\u001b[39m       \u001b[36mconst\u001b[39m errorRate \u001b[33m=\u001b[39m (result\u001b[33m.\u001b[39mnon2xx \u001b[33m/\u001b[39m result\u001b[33m.\u001b[39mrequests\u001b[33m.\u001b[39mtotal) \u001b[33m*\u001b[39m \u001b[35m100\u001b[39m\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 334 |\u001b[39m       expect(errorRate)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m5\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// Less than 5% error rate\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 335 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 336 |\u001b[39m       \u001b[90m// Should maintain reasonable response times\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 337 |\u001b[39m       expect(result\u001b[33m.\u001b[39mlatency\u001b[33m.\u001b[39mp50)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m2000\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// Median under 2 seconds\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBeLessThan (\u001b[22m\u001b[2m\u001b[0m\u001b[36mperformance/loadTest.test.js\u001b[39m\u001b[0m\u001b[2m:334:25)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mPerformance Load Tests  stress testing  should recover from temporary overload\u001b[39m\u001b[22m\n\n    ReferenceError: app is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 353 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 354 |\u001b[39m       \u001b[90m// Test if system is still responsive after heavy load starts\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 355 |\u001b[39m       \u001b[36mconst\u001b[39m testRequest \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request(app)\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 356 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/health'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 357 |\u001b[39m         \u001b[33m.\u001b[39mtimeout(\u001b[35m5000\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 358 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.app (\u001b[22m\u001b[2m\u001b[0m\u001b[36mperformance/loadTest.test.js\u001b[39m\u001b[0m\u001b[2m:355:41)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mPerformance Load Tests  real-world scenarios  should handle peak delivery creation periods\u001b[39m\u001b[22m\n\n    ReferenceError: app is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 375 |\u001b[39m       \u001b[90m// Simulate peak hours with burst of delivery creations\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 376 |\u001b[39m       \u001b[36mconst\u001b[39m deliveryPromises \u001b[33m=\u001b[39m \u001b[33mArray\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m({ length\u001b[33m:\u001b[39m \u001b[35m50\u001b[39m }\u001b[33m,\u001b[39m (_\u001b[33m,\u001b[39m i) \u001b[33m=>\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 377 |\u001b[39m         request(app)\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 378 |\u001b[39m           \u001b[33m.\u001b[39mpost(\u001b[32m'/api/deliveries'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 379 |\u001b[39m           \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${authToken}`\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 380 |\u001b[39m           \u001b[33m.\u001b[39msend({\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat app (\u001b[22m\u001b[2m\u001b[0m\u001b[36mperformance/loadTest.test.js\u001b[39m\u001b[0m\u001b[2m:377:17)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at Function.from (<anonymous>)\u001b[22m\n\u001b[2m      \u001b[2mat Object.from (\u001b[22m\u001b[2m\u001b[0m\u001b[36mperformance/loadTest.test.js\u001b[39m\u001b[0m\u001b[2m:376:38)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mPerformance Load Tests  real-world scenarios  should handle analytics dashboard refresh during busy periods\u001b[39m\u001b[22m\n\n    ReferenceError: app is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 403 |\u001b[39m       \u001b[90m// Simulate multiple users refreshing dashboards\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 404 |\u001b[39m       \u001b[36mconst\u001b[39m dashboardPromises \u001b[33m=\u001b[39m \u001b[33mArray\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m({ length\u001b[33m:\u001b[39m \u001b[35m20\u001b[39m }\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 405 |\u001b[39m         request(app)\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 406 |\u001b[39m           \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/analytics/dashboard'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 407 |\u001b[39m           \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${authToken}`\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 408 |\u001b[39m           \u001b[33m.\u001b[39mquery({\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat app (\u001b[22m\u001b[2m\u001b[0m\u001b[36mperformance/loadTest.test.js\u001b[39m\u001b[0m\u001b[2m:405:17)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at Function.from (<anonymous>)\u001b[22m\n\u001b[2m      \u001b[2mat Object.from (\u001b[22m\u001b[2m\u001b[0m\u001b[36mperformance/loadTest.test.js\u001b[39m\u001b[0m\u001b[2m:404:39)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mPerformance Load Tests  resource cleanup  should properly clean up resources after high load\u001b[39m\u001b[22m\n\n    ReferenceError: app is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 431 |\u001b[39m     it(\u001b[32m'should properly clean up resources after high load'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 432 |\u001b[39m       \u001b[90m// Get initial resource counts\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 433 |\u001b[39m       \u001b[36mconst\u001b[39m initialStats \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request(app)\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 434 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/admin/system-stats'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 435 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${authToken}`\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 436 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.app (\u001b[22m\u001b[2m\u001b[0m\u001b[36mperformance/loadTest.test.js\u001b[39m\u001b[0m\u001b[2m:433:42)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Users\\deepa\\Documents\\DelAuto\\tests\\performance\\loadTest.test.js","startTime":1761196469227,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/voice"],"duration":2400,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:82:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/voice should handle voice webhook and return TwiML","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196495908,"status":"failed","title":"should handle voice webhook and return TwiML"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/voice"],"duration":656,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:101:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/voice should include delivery information in voice prompt","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196498312,"status":"failed","title":"should include delivery information in voice prompt"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/voice"],"duration":660,"failing":false,"failureDetails":[{"matcherResult":{"expected":false,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:112:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Webhooks API Routes POST /api/webhooks/voice should handle missing delivery_id parameter","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196498975,"status":"failed","title":"should handle missing delivery_id parameter"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/voice"],"duration":122,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 404 \"Not Found\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:123:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/voice should handle non-existent delivery","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196499661,"status":"failed","title":"should handle non-existent delivery"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/voice"],"duration":98,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:136:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/voice should support different languages in TwiML","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196499831,"status":"failed","title":"should support different languages in TwiML"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/voice"],"duration":121,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 401 \"Unauthorized\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:149:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/voice should validate Twilio webhook signature","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196499932,"status":"failed","title":"should validate Twilio webhook signature"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/voice"],"duration":75,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 500 \"Internal Server Error\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:162:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/voice should handle webhook validation errors","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196500177,"status":"failed","title":"should handle webhook validation errors"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/voice"],"duration":165,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:172:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/voice should include proper recording settings in TwiML","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196500302,"status":"failed","title":"should include proper recording settings in TwiML"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/voice"],"duration":109,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:190:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/voice should handle customer callback scenarios","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196500551,"status":"failed","title":"should handle customer callback scenarios"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/recording"],"duration":107,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:206:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/recording should process recording webhook successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196500676,"status":"failed","title":"should process recording webhook successfully"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/recording"],"duration":102,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:216:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/recording should upload recording to storage","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196500807,"status":"failed","title":"should upload recording to storage"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/recording"],"duration":104,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:225:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/recording should trigger AI transcription and analysis","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196500924,"status":"failed","title":"should trigger AI transcription and analysis"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/recording"],"duration":110,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:235:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/recording should notify assigned agent","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196501036,"status":"failed","title":"should notify assigned agent"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/recording"],"duration":101,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:244:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/recording should emit real-time socket notification","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196501197,"status":"failed","title":"should emit real-time socket notification"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/recording"],"duration":149,"failing":false,"failureDetails":[{"matcherResult":{"expected":false,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:258:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Webhooks API Routes POST /api/webhooks/recording should handle missing RecordingSid","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196501363,"status":"failed","title":"should handle missing RecordingSid"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/recording"],"duration":98,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 500 \"Internal Server Error\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:267:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/recording should handle recording upload failures","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196501517,"status":"failed","title":"should handle recording upload failures"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/recording"],"duration":98,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:278:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/recording should handle AI service failures gracefully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196501631,"status":"failed","title":"should handle AI service failures gracefully"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/recording"],"duration":115,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:288:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/recording should update delivery status after recording processed","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196501731,"status":"failed","title":"should update delivery status after recording processed"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/recording"],"duration":78,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:299:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/recording should handle duplicate recording webhooks","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196501873,"status":"failed","title":"should handle duplicate recording webhooks"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/recording"],"duration":80,"failing":false,"failureDetails":[{"matcherResult":{"expected":false,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:315:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Webhooks API Routes POST /api/webhooks/recording should validate recording duration","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196501952,"status":"failed","title":"should validate recording duration"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/recording"],"duration":83,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:330:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/recording should handle transcription webhook separately","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196502046,"status":"failed","title":"should handle transcription webhook separately"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/call-status"],"duration":79,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:350:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/call-status should update call status in database","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196502130,"status":"failed","title":"should update call status in database"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/call-status"],"duration":97,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:365:12)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/call-status should handle different call statuses","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196502228,"status":"failed","title":"should handle different call statuses"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/call-status"],"duration":65,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:377:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/call-status should trigger retry logic for failed calls","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196502327,"status":"failed","title":"should trigger retry logic for failed calls"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/call-status"],"duration":100,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:389:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/call-status should handle no-answer scenarios","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196502397,"status":"failed","title":"should handle no-answer scenarios"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/call-status"],"duration":86,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:400:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/call-status should update delivery status based on call outcome","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196502498,"status":"failed","title":"should update delivery status based on call outcome"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/call-status"],"duration":72,"failing":false,"failureDetails":[{"matcherResult":{"expected":false,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:414:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Webhooks API Routes POST /api/webhooks/call-status should handle missing CallSid","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196502596,"status":"failed","title":"should handle missing CallSid"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/call-status"],"duration":116,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:427:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/call-status should track call quality metrics","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196502675,"status":"failed","title":"should track call quality metrics"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/sms"],"duration":102,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 404 \"Not Found\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:446:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/sms should process incoming SMS responses","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196502856,"status":"failed","title":"should process incoming SMS responses"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/sms"],"duration":118,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 404 \"Not Found\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:460:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/sms should link SMS to delivery based on phone number","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196502984,"status":"failed","title":"should link SMS to delivery based on phone number"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/sms"],"duration":67,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 404 \"Not Found\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:474:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/sms should handle SMS with delivery keywords","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196503118,"status":"failed","title":"should handle SMS with delivery keywords"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/sms"],"duration":80,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 404 \"Not Found\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:483:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/sms should respond with automated SMS when appropriate","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196503194,"status":"failed","title":"should respond with automated SMS when appropriate"},{"ancestorTitles":["Webhooks API Routes","POST /api/webhooks/sms"],"duration":69,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 404 \"Not Found\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:498:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes POST /api/webhooks/sms should handle opt-out requests","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196503294,"status":"failed","title":"should handle opt-out requests"},{"ancestorTitles":["Webhooks API Routes","Webhook Security"],"duration":108,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 401 \"Unauthorized\", got 200 \"OK\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:515:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes Webhook Security should validate Twilio webhook signatures","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196503367,"status":"failed","title":"should validate Twilio webhook signatures"},{"ancestorTitles":["Webhooks API Routes","Webhook Security"],"duration":92,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:527:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes Webhook Security should handle webhook validation in development mode","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196503485,"status":"failed","title":"should handle webhook validation in development mode"},{"ancestorTitles":["Webhooks API Routes","Webhook Security"],"duration":84,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 401 \"Unauthorized\", got 200 \"OK\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:544:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes Webhook Security should prevent webhook replay attacks","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196503579,"status":"failed","title":"should prevent webhook replay attacks"},{"ancestorTitles":["Webhooks API Routes","Webhook Security"],"duration":1085,"failing":false,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:562:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Webhooks API Routes Webhook Security should rate limit webhook endpoints","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196503665,"status":"failed","title":"should rate limit webhook endpoints"},{"ancestorTitles":["Webhooks API Routes","Error Handling"],"duration":173,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 500 \"Internal Server Error\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:574:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes Error Handling should handle database connection errors","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196504878,"status":"failed","title":"should handle database connection errors"},{"ancestorTitles":["Webhooks API Routes","Error Handling"],"duration":137,"failing":false,"failureDetails":[{"matcherResult":{"expected":false,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:585:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Webhooks API Routes Error Handling should handle malformed webhook data","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196505113,"status":"failed","title":"should handle malformed webhook data"},{"ancestorTitles":["Webhooks API Routes","Error Handling"],"duration":141,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 500 \"Internal Server Error\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:595:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes Error Handling should handle webhook timeouts gracefully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196505318,"status":"failed","title":"should handle webhook timeouts gracefully"},{"ancestorTitles":["Webhooks API Routes","Error Handling"],"duration":127,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 500 \"Internal Server Error\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:607:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes Error Handling should log webhook processing errors","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196505530,"status":"failed","title":"should log webhook processing errors"},{"ancestorTitles":["Webhooks API Routes","Idempotency"],"duration":256,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:621:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes Idempotency should handle duplicate webhook deliveries","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196505783,"status":"failed","title":"should handle duplicate webhook deliveries"},{"ancestorTitles":["Webhooks API Routes","Idempotency"],"duration":127,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:639:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes Idempotency should use idempotency keys for webhook processing","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196506101,"status":"failed","title":"should use idempotency keys for webhook processing"},{"ancestorTitles":["Webhooks API Routes","Monitoring and Metrics"],"duration":148,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:652:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes Monitoring and Metrics should track webhook processing times","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196506268,"status":"failed","title":"should track webhook processing times"},{"ancestorTitles":["Webhooks API Routes","Monitoring and Metrics"],"duration":101,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 404 \"Not Found\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:661:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes Monitoring and Metrics should track webhook success/failure rates","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196506549,"status":"failed","title":"should track webhook success/failure rates"},{"ancestorTitles":["Webhooks API Routes","Monitoring and Metrics"],"duration":122,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js:673:10)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)\n----\n    at Test._assertStatus (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Webhooks API Routes Monitoring and Metrics should emit metrics events for monitoring","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196506720,"status":"failed","title":"should emit metrics events for monitoring"}],"endTime":1761196507825,"message":"\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/voice  should handle voice webhook and return TwiML\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 80 |\u001b[39m         \u001b[33m.\u001b[39mquery({ delivery_id\u001b[33m:\u001b[39m testData\u001b[33m.\u001b[39mvalidDelivery\u001b[33m.\u001b[39m_id\u001b[33m.\u001b[39mtoString() })\u001b[22m\n\u001b[2m     \u001b[90m 81 |\u001b[39m         \u001b[33m.\u001b[39msend(voiceWebhookData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 82 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 83 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 84 |\u001b[39m       expect(response\u001b[33m.\u001b[39mheaders[\u001b[32m'content-type'\u001b[39m])\u001b[33m.\u001b[39mtoContain(\u001b[32m'text/xml'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 85 |\u001b[39m       expect(response\u001b[33m.\u001b[39mtext)\u001b[33m.\u001b[39mtoContain(\u001b[32m'<Response>'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:82:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/voice  should include delivery information in voice prompt\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m  99 |\u001b[39m         \u001b[33m.\u001b[39mquery({ delivery_id\u001b[33m:\u001b[39m deliveryWithPackage\u001b[33m.\u001b[39m_id\u001b[33m.\u001b[39mtoString() })\u001b[22m\n\u001b[2m     \u001b[90m 100 |\u001b[39m         \u001b[33m.\u001b[39msend(voiceWebhookData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 101 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 102 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 103 |\u001b[39m       expect(response\u001b[33m.\u001b[39mtext)\u001b[33m.\u001b[39mtoContain(\u001b[32m'PKG123456'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 104 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:101:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/voice  should handle missing delivery_id parameter\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mfalse\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 110 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 111 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 112 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 113 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoContain(\u001b[32m'delivery_id'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 114 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 115 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:112:37)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/voice  should handle non-existent delivery\u001b[39m\u001b[22m\n\n    expected 404 \"Not Found\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 121 |\u001b[39m         \u001b[33m.\u001b[39mquery({ delivery_id\u001b[33m:\u001b[39m \u001b[32m'non-existent-id'\u001b[39m })\u001b[22m\n\u001b[2m     \u001b[90m 122 |\u001b[39m         \u001b[33m.\u001b[39msend(voiceWebhookData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 123 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m404\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 124 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:123:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/voice  should support different languages in TwiML\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 134 |\u001b[39m         })\u001b[22m\n\u001b[2m     \u001b[90m 135 |\u001b[39m         \u001b[33m.\u001b[39msend(voiceWebhookData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 136 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 137 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 138 |\u001b[39m       expect(response\u001b[33m.\u001b[39mtext)\u001b[33m.\u001b[39mtoContain(\u001b[32m'voice=\"alice\"'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 139 |\u001b[39m       \u001b[90m// Spanish text would be included in actual implementation\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:136:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/voice  should validate Twilio webhook signature\u001b[39m\u001b[22m\n\n    expected 401 \"Unauthorized\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 147 |\u001b[39m         \u001b[33m.\u001b[39mquery({ delivery_id\u001b[33m:\u001b[39m testData\u001b[33m.\u001b[39mvalidDelivery\u001b[33m.\u001b[39m_id\u001b[33m.\u001b[39mtoString() })\u001b[22m\n\u001b[2m     \u001b[90m 148 |\u001b[39m         \u001b[33m.\u001b[39msend(voiceWebhookData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 149 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m401\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 150 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 151 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 152 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoContain(\u001b[32m'signature'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:149:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/voice  should handle webhook validation errors\u001b[39m\u001b[22m\n\n    expected 500 \"Internal Server Error\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 160 |\u001b[39m         \u001b[33m.\u001b[39mquery({ delivery_id\u001b[33m:\u001b[39m testData\u001b[33m.\u001b[39mvalidDelivery\u001b[33m.\u001b[39m_id\u001b[33m.\u001b[39mtoString() })\u001b[22m\n\u001b[2m     \u001b[90m 161 |\u001b[39m         \u001b[33m.\u001b[39msend(voiceWebhookData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 162 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m500\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 163 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 164 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 165 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:162:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/voice  should include proper recording settings in TwiML\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 170 |\u001b[39m         \u001b[33m.\u001b[39mquery({ delivery_id\u001b[33m:\u001b[39m testData\u001b[33m.\u001b[39mvalidDelivery\u001b[33m.\u001b[39m_id\u001b[33m.\u001b[39mtoString() })\u001b[22m\n\u001b[2m     \u001b[90m 171 |\u001b[39m         \u001b[33m.\u001b[39msend(voiceWebhookData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 172 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 173 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 174 |\u001b[39m       expect(response\u001b[33m.\u001b[39mtext)\u001b[33m.\u001b[39mtoContain(\u001b[32m'transcribe=\"true\"'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 175 |\u001b[39m       expect(response\u001b[33m.\u001b[39mtext)\u001b[33m.\u001b[39mtoContain(\u001b[32m'maxLength=\"60\"'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:172:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/voice  should handle customer callback scenarios\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 188 |\u001b[39m         })\u001b[22m\n\u001b[2m     \u001b[90m 189 |\u001b[39m         \u001b[33m.\u001b[39msend(callbackData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 190 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 191 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 192 |\u001b[39m       expect(response\u001b[33m.\u001b[39mtext)\u001b[33m.\u001b[39mtoContain(\u001b[32m'<Say>'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 193 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:190:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/recording  should process recording webhook successfully\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 204 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/recording'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 205 |\u001b[39m         \u001b[33m.\u001b[39msend(recordingWebhookData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 206 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 207 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 208 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 209 |\u001b[39m       expect(mockDb\u001b[33m.\u001b[39mcollection()\u001b[33m.\u001b[39minsertOne\u001b[33m.\u001b[39mcalledOnce)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:206:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/recording  should upload recording to storage\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 214 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/recording'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 215 |\u001b[39m         \u001b[33m.\u001b[39msend(recordingWebhookData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 216 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 217 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 218 |\u001b[39m       expect(storageStub\u001b[33m.\u001b[39muploadRecording\u001b[33m.\u001b[39mcalledOnce)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 219 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:216:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/recording  should trigger AI transcription and analysis\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 223 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/recording'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 224 |\u001b[39m         \u001b[33m.\u001b[39msend(recordingWebhookData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 225 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 226 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 227 |\u001b[39m       expect(aiServiceStub\u001b[33m.\u001b[39mtranscribeAudio\u001b[33m.\u001b[39mcalledOnce)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 228 |\u001b[39m       expect(aiServiceStub\u001b[33m.\u001b[39manalyzeTranscription\u001b[33m.\u001b[39mcalledOnce)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:225:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/recording  should notify assigned agent\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 233 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/recording'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 234 |\u001b[39m         \u001b[33m.\u001b[39msend(recordingWebhookData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 235 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 236 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 237 |\u001b[39m       expect(pushServiceStub\u001b[33m.\u001b[39mnotifyAgent\u001b[33m.\u001b[39mcalledOnce)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 238 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:235:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/recording  should emit real-time socket notification\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 242 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/recording'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 243 |\u001b[39m         \u001b[33m.\u001b[39msend(recordingWebhookData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 244 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 245 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 246 |\u001b[39m       expect(socketStub\u001b[33m.\u001b[39mto\u001b[33m.\u001b[39mcalled)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 247 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:244:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/recording  should handle missing RecordingSid\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mfalse\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 256 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 257 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 258 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 259 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 260 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 261 |\u001b[39m     it(\u001b[32m'should handle recording upload failures'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:258:37)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/recording  should handle recording upload failures\u001b[39m\u001b[22m\n\n    expected 500 \"Internal Server Error\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 265 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/recording'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 266 |\u001b[39m         \u001b[33m.\u001b[39msend(recordingWebhookData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 267 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m500\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 268 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 269 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 270 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:267:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/recording  should handle AI service failures gracefully\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 276 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/recording'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 277 |\u001b[39m         \u001b[33m.\u001b[39msend(recordingWebhookData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 278 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// Should still succeed\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 279 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 280 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 281 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mwarning)\u001b[33m.\u001b[39mtoContain(\u001b[32m'AI processing failed'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:278:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/recording  should update delivery status after recording processed\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 286 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/recording'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 287 |\u001b[39m         \u001b[33m.\u001b[39msend(recordingWebhookData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 288 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 289 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 290 |\u001b[39m       expect(mockDb\u001b[33m.\u001b[39mcollection()\u001b[33m.\u001b[39mupdateOne\u001b[33m.\u001b[39mcalled)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 291 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:288:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/recording  should handle duplicate recording webhooks\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 297 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/recording'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 298 |\u001b[39m         \u001b[33m.\u001b[39msend(recordingWebhookData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 299 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 300 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 301 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mmessage)\u001b[33m.\u001b[39mtoContain(\u001b[32m'already processed'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 302 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:299:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/recording  should validate recording duration\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mfalse\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 313 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 314 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 315 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 316 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoContain(\u001b[32m'duration'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 317 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 318 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:315:37)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/recording  should handle transcription webhook separately\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 328 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/transcription'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 329 |\u001b[39m         \u001b[33m.\u001b[39msend(transcriptionData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 330 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 331 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 332 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 333 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:330:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/call-status  should update call status in database\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 348 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/call-status'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 349 |\u001b[39m         \u001b[33m.\u001b[39msend(callStatusData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 350 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 351 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 352 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 353 |\u001b[39m       expect(mockDb\u001b[33m.\u001b[39mcollection()\u001b[33m.\u001b[39mupdateOne\u001b[33m.\u001b[39mcalledOnce)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:350:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/call-status  should handle different call statuses\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 363 |\u001b[39m           \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/call-status'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 364 |\u001b[39m           \u001b[33m.\u001b[39msend(statusData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 365 |\u001b[39m           \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 366 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 367 |\u001b[39m         expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 368 |\u001b[39m       }\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:365:12)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/call-status  should trigger retry logic for failed calls\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 375 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/call-status'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 376 |\u001b[39m         \u001b[33m.\u001b[39msend(failedCallData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 377 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 378 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 379 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 380 |\u001b[39m       \u001b[90m// Verify retry was scheduled\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:377:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/call-status  should handle no-answer scenarios\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 387 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/call-status'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 388 |\u001b[39m         \u001b[33m.\u001b[39msend(noAnswerData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 389 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 390 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 391 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 392 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:389:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/call-status  should update delivery status based on call outcome\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 398 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/call-status'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 399 |\u001b[39m         \u001b[33m.\u001b[39msend(completedCallData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 400 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 401 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 402 |\u001b[39m       expect(mockDb\u001b[33m.\u001b[39mcollection()\u001b[33m.\u001b[39mupdateOne\u001b[33m.\u001b[39mcalledTwice)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// Call log + delivery\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 403 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:400:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/call-status  should handle missing CallSid\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mfalse\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 412 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 413 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 414 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 415 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 416 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 417 |\u001b[39m     it(\u001b[32m'should track call quality metrics'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:414:37)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/call-status  should track call quality metrics\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 425 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/call-status'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 426 |\u001b[39m         \u001b[33m.\u001b[39msend(qualityData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 427 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 428 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 429 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 430 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:427:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/sms  should process incoming SMS responses\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 404 \"Not Found\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 444 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/sms'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 445 |\u001b[39m         \u001b[33m.\u001b[39msend(smsWebhookData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 446 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 447 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 448 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 449 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:446:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/sms  should link SMS to delivery based on phone number\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 404 \"Not Found\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 458 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/sms'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 459 |\u001b[39m         \u001b[33m.\u001b[39msend(smsWebhookData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 460 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 461 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 462 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 463 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:460:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/sms  should handle SMS with delivery keywords\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 404 \"Not Found\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 472 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/sms'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 473 |\u001b[39m         \u001b[33m.\u001b[39msend(keywordSMS)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 474 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 475 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 476 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 477 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:474:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/sms  should respond with automated SMS when appropriate\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 404 \"Not Found\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 481 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/sms'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 482 |\u001b[39m         \u001b[33m.\u001b[39msend(smsWebhookData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 483 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 484 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 485 |\u001b[39m       expect(response\u001b[33m.\u001b[39mheaders[\u001b[32m'content-type'\u001b[39m])\u001b[33m.\u001b[39mtoContain(\u001b[32m'text/xml'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 486 |\u001b[39m       expect(response\u001b[33m.\u001b[39mtext)\u001b[33m.\u001b[39mtoContain(\u001b[32m'<Response>'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:483:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  POST /api/webhooks/sms  should handle opt-out requests\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 404 \"Not Found\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 496 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/sms'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 497 |\u001b[39m         \u001b[33m.\u001b[39msend(optOutSMS)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 498 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 499 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 500 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 501 |\u001b[39m       \u001b[90m// Verify customer was opted out\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:498:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  Webhook Security  should validate Twilio webhook signatures\u001b[39m\u001b[22m\n\n    expected 401 \"Unauthorized\", got 200 \"OK\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 513 |\u001b[39m         \u001b[33m.\u001b[39mquery({ delivery_id\u001b[33m:\u001b[39m testData\u001b[33m.\u001b[39mvalidDelivery\u001b[33m.\u001b[39m_id\u001b[33m.\u001b[39mtoString() })\u001b[22m\n\u001b[2m     \u001b[90m 514 |\u001b[39m         \u001b[33m.\u001b[39msend(testData\u001b[33m.\u001b[39mtwilioWebhookData\u001b[33m.\u001b[39mvoice)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 515 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m401\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 516 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 517 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 518 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:515:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  Webhook Security  should handle webhook validation in development mode\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 525 |\u001b[39m         \u001b[33m.\u001b[39mquery({ delivery_id\u001b[33m:\u001b[39m testData\u001b[33m.\u001b[39mvalidDelivery\u001b[33m.\u001b[39m_id\u001b[33m.\u001b[39mtoString() })\u001b[22m\n\u001b[2m     \u001b[90m 526 |\u001b[39m         \u001b[33m.\u001b[39msend(testData\u001b[33m.\u001b[39mtwilioWebhookData\u001b[33m.\u001b[39mvoice)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 527 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 528 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 529 |\u001b[39m       expect(response\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 530 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:527:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  Webhook Security  should prevent webhook replay attacks\u001b[39m\u001b[22m\n\n    expected 401 \"Unauthorized\", got 200 \"OK\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 542 |\u001b[39m         \u001b[33m.\u001b[39mquery({ delivery_id\u001b[33m:\u001b[39m testData\u001b[33m.\u001b[39mvalidDelivery\u001b[33m.\u001b[39m_id\u001b[33m.\u001b[39mtoString() })\u001b[22m\n\u001b[2m     \u001b[90m 543 |\u001b[39m         \u001b[33m.\u001b[39msend(testData\u001b[33m.\u001b[39mtwilioWebhookData\u001b[33m.\u001b[39mvoice)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 544 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m401\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 545 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 546 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoContain(\u001b[32m'timestamp'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 547 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:544:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  Webhook Security  should rate limit webhook endpoints\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mtrue\u001b[39m\n    Received: \u001b[31mfalse\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 560 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 561 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 562 |\u001b[39m       expect(rateLimited)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 563 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 564 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 565 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:562:27)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  Error Handling  should handle database connection errors\u001b[39m\u001b[22m\n\n    expected 500 \"Internal Server Error\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 572 |\u001b[39m         \u001b[33m.\u001b[39mquery({ delivery_id\u001b[33m:\u001b[39m testData\u001b[33m.\u001b[39mvalidDelivery\u001b[33m.\u001b[39m_id\u001b[33m.\u001b[39mtoString() })\u001b[22m\n\u001b[2m     \u001b[90m 573 |\u001b[39m         \u001b[33m.\u001b[39msend(testData\u001b[33m.\u001b[39mtwilioWebhookData\u001b[33m.\u001b[39mvoice)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 574 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m500\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 575 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 576 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 577 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:574:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  Error Handling  should handle malformed webhook data\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mfalse\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 583 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 584 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 585 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 586 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 587 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 588 |\u001b[39m     it(\u001b[32m'should handle webhook timeouts gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:585:37)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  Error Handling  should handle webhook timeouts gracefully\u001b[39m\u001b[22m\n\n    expected 500 \"Internal Server Error\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 593 |\u001b[39m         \u001b[33m.\u001b[39msend(testData\u001b[33m.\u001b[39mtwilioWebhookData\u001b[33m.\u001b[39mrecording)\u001b[22m\n\u001b[2m     \u001b[90m 594 |\u001b[39m         \u001b[33m.\u001b[39mtimeout(\u001b[35m5000\u001b[39m)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 595 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m500\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 596 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 597 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 598 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:595:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  Error Handling  should log webhook processing errors\u001b[39m\u001b[22m\n\n    expected 500 \"Internal Server Error\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 605 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/recording'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 606 |\u001b[39m         \u001b[33m.\u001b[39msend(testData\u001b[33m.\u001b[39mtwilioWebhookData\u001b[33m.\u001b[39mrecording)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 607 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m500\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 608 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 609 |\u001b[39m       expect(consoleSpy\u001b[33m.\u001b[39mcalled)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 610 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:607:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  Idempotency  should handle duplicate webhook deliveries\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 619 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/recording'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 620 |\u001b[39m         \u001b[33m.\u001b[39msend(webhookData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 621 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 622 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 623 |\u001b[39m       \u001b[90m// Duplicate request\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 624 |\u001b[39m       \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request(app)\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:621:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  Idempotency  should use idempotency keys for webhook processing\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 637 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Idempotency-Key'\u001b[39m\u001b[33m,\u001b[39m idempotencyKey)\u001b[22m\n\u001b[2m     \u001b[90m 638 |\u001b[39m         \u001b[33m.\u001b[39msend(testData\u001b[33m.\u001b[39mtwilioWebhookData\u001b[33m.\u001b[39mrecording)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 639 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 640 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 641 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 642 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:639:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  Monitoring and Metrics  should track webhook processing times\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 650 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/recording'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 651 |\u001b[39m         \u001b[33m.\u001b[39msend(testData\u001b[33m.\u001b[39mtwilioWebhookData\u001b[33m.\u001b[39mrecording)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 652 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 653 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 654 |\u001b[39m       \u001b[36mconst\u001b[39m duration \u001b[33m=\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow() \u001b[33m-\u001b[39m start\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 655 |\u001b[39m       expect(response\u001b[33m.\u001b[39mheaders[\u001b[32m'x-processing-time'\u001b[39m])\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:652:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  Monitoring and Metrics  should track webhook success/failure rates\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 404 \"Not Found\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 659 |\u001b[39m       \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request(app)\u001b[22m\n\u001b[2m     \u001b[90m 660 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/webhooks/metrics'\u001b[39m)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 661 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 662 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 663 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 664 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39msuccess_rate)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:661:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mWebhooks API Routes  Monitoring and Metrics  should emit metrics events for monitoring\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 671 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/api/webhooks/recording'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 672 |\u001b[39m         \u001b[33m.\u001b[39msend(testData\u001b[33m.\u001b[39mtwilioWebhookData\u001b[33m.\u001b[39mrecording)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 673 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 674 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 675 |\u001b[39m       \u001b[90m// Verify metrics were emitted (would be implementation specific)\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 676 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/webhooks.test.js\u001b[39m\u001b[0m\u001b[2m:673:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2m../node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\webhooks.test.js","startTime":1761196490930,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["AIService","constructor"],"duration":402,"failing":false,"failureDetails":[{}],"failureMessages":["ReferenceError: AIService is not defined\n    at Object.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\aiService.test.js:68:23)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"AIService constructor should initialize with OpenAI when API key is provided","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196511172,"status":"failed","title":"should initialize with OpenAI when API key is provided"},{"ancestorTitles":["AIService","constructor"],"duration":88,"failing":false,"failureDetails":[{}],"failureMessages":["ReferenceError: AIService is not defined\n    at Object.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\aiService.test.js:78:23)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"AIService constructor should disable service when no API key provided","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196511670,"status":"failed","title":"should disable service when no API key provided"},{"ancestorTitles":["AIService","transcribeRecording"],"duration":85,"failing":false,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\aiService.test.js:105:30)"],"fullName":"AIService transcribeRecording should transcribe audio successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196511876,"status":"failed","title":"should transcribe audio successfully"},{"ancestorTitles":["AIService","transcribeRecording"],"duration":198,"failing":false,"failureDetails":[{"matcherResult":{"actual":{"success":false,"error":"Cannot read properties of undefined (reading 'status')","recordingId":"rec123","processedAt":"2025-10-23T05:15:12.258Z"},"expected":{"success":true,"transcription":"Cached transcription","recordingId":"rec123"},"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\n\u001b[32m- Expected  - 2\u001b[39m\n\u001b[31m+ Received  + 3\u001b[39m\n\n\u001b[2m  Object {\u001b[22m\n\u001b[31m+   \"error\": \"Cannot read properties of undefined (reading 'status')\",\u001b[39m\n\u001b[31m+   \"processedAt\": \"2025-10-23T05:15:12.258Z\",\u001b[39m\n\u001b[2m    \"recordingId\": \"rec123\",\u001b[22m\n\u001b[32m-   \"success\": true,\u001b[39m\n\u001b[32m-   \"transcription\": \"Cached transcription\",\u001b[39m\n\u001b[31m+   \"success\": false,\u001b[39m\n\u001b[2m  }\u001b[22m","name":"toEqual","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\n\u001b[32m- Expected  - 2\u001b[39m\n\u001b[31m+ Received  + 3\u001b[39m\n\n\u001b[2m  Object {\u001b[22m\n\u001b[31m+   \"error\": \"Cannot read properties of undefined (reading 'status')\",\u001b[39m\n\u001b[31m+   \"processedAt\": \"2025-10-23T05:15:12.258Z\",\u001b[39m\n\u001b[2m    \"recordingId\": \"rec123\",\u001b[22m\n\u001b[32m-   \"success\": true,\u001b[39m\n\u001b[32m-   \"transcription\": \"Cached transcription\",\u001b[39m\n\u001b[31m+   \"success\": false,\u001b[39m\n\u001b[2m  }\u001b[22m\n    at Object.toEqual (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\aiService.test.js:125:22)"],"fullName":"AIService transcribeRecording should return cached result when available","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196512072,"status":"failed","title":"should return cached result when available"},{"ancestorTitles":["AIService","transcribeRecording"],"duration":57,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"Failed to download audio: 404\"\u001b[39m\nReceived string:    \u001b[31m\"Cannot read properties of undefined (reading 'status')\"\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"Failed to download audio: 404\"\u001b[39m\nReceived string:    \u001b[31m\"Cannot read properties of undefined (reading 'status')\"\u001b[39m\n    at Object.toContain (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\aiService.test.js:136:28)"],"fullName":"AIService transcribeRecording should handle audio download failure","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196512390,"status":"failed","title":"should handle audio download failure"},{"ancestorTitles":["AIService","transcribeRecording"],"duration":66,"failing":false,"failureDetails":[{"matcherResult":{"actual":"Cannot read properties of undefined (reading 'status')","expected":"OpenAI API Error","message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"OpenAI API Error\"\u001b[39m\nReceived: \u001b[31m\"Cannot read properties of undefined (reading 'status')\"\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"OpenAI API Error\"\u001b[39m\nReceived: \u001b[31m\"Cannot read properties of undefined (reading 'status')\"\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\aiService.test.js:146:28)"],"fullName":"AIService transcribeRecording should handle OpenAI transcription error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196512465,"status":"failed","title":"should handle OpenAI transcription error"},{"ancestorTitles":["AIService","transcribeRecording"],"duration":76,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AIService transcribeRecording should return error when service is disabled","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196512549,"status":"passed","title":"should return error when service is disabled"},{"ancestorTitles":["AIService","analyzeTranscription"],"duration":107,"failing":false,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\aiService.test.js:186:30)"],"fullName":"AIService analyzeTranscription should analyze transcription successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196512657,"status":"failed","title":"should analyze transcription successfully"},{"ancestorTitles":["AIService","analyzeTranscription"],"duration":73,"failing":false,"failureDetails":[{"matcherResult":{"actual":{"success":false,"error":"Cannot read properties of undefined (reading 'completions')","recordingId":"rec123","transcription":"Please leave the package at the front door. This is urgent!","processedAt":"2025-10-23T05:15:12.855Z"},"expected":{"success":true,"analysis":{"sentiment":"positive"},"recordingId":"rec123"},"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\n\u001b[32m- Expected  - 4\u001b[39m\n\u001b[31m+ Received  + 4\u001b[39m\n\n\u001b[2m  Object {\u001b[22m\n\u001b[32m-   \"analysis\": Object {\u001b[39m\n\u001b[32m-     \"sentiment\": \"positive\",\u001b[39m\n\u001b[32m-   },\u001b[39m\n\u001b[31m+   \"error\": \"Cannot read properties of undefined (reading 'completions')\",\u001b[39m\n\u001b[31m+   \"processedAt\": \"2025-10-23T05:15:12.855Z\",\u001b[39m\n\u001b[2m    \"recordingId\": \"rec123\",\u001b[22m\n\u001b[32m-   \"success\": true,\u001b[39m\n\u001b[31m+   \"success\": false,\u001b[39m\n\u001b[31m+   \"transcription\": \"Please leave the package at the front door. This is urgent!\",\u001b[39m\n\u001b[2m  }\u001b[22m","name":"toEqual","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\n\u001b[32m- Expected  - 4\u001b[39m\n\u001b[31m+ Received  + 4\u001b[39m\n\n\u001b[2m  Object {\u001b[22m\n\u001b[32m-   \"analysis\": Object {\u001b[39m\n\u001b[32m-     \"sentiment\": \"positive\",\u001b[39m\n\u001b[32m-   },\u001b[39m\n\u001b[31m+   \"error\": \"Cannot read properties of undefined (reading 'completions')\",\u001b[39m\n\u001b[31m+   \"processedAt\": \"2025-10-23T05:15:12.855Z\",\u001b[39m\n\u001b[2m    \"recordingId\": \"rec123\",\u001b[22m\n\u001b[32m-   \"success\": true,\u001b[39m\n\u001b[31m+   \"success\": false,\u001b[39m\n\u001b[31m+   \"transcription\": \"Please leave the package at the front door. This is urgent!\",\u001b[39m\n\u001b[2m  }\u001b[22m\n    at Object.toEqual (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\aiService.test.js:204:22)"],"fullName":"AIService analyzeTranscription should return cached result when available","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196512788,"status":"failed","title":"should return cached result when available"},{"ancestorTitles":["AIService","analyzeTranscription"],"duration":47,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AIService analyzeTranscription should handle empty transcription","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196512873,"status":"passed","title":"should handle empty transcription"},{"ancestorTitles":["AIService","analyzeTranscription"],"duration":89,"failing":false,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\aiService.test.js:226:30)"],"fullName":"AIService analyzeTranscription should handle malformed JSON response with fallback parsing","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196512927,"status":"failed","title":"should handle malformed JSON response with fallback parsing"},{"ancestorTitles":["AIService","analyzeTranscription"],"duration":36,"failing":false,"failureDetails":[{"matcherResult":{"actual":"Cannot read properties of undefined (reading 'completions')","expected":"OpenAI API Error","message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"OpenAI API Error\"\u001b[39m\nReceived: \u001b[31m\"Cannot read properties of undefined (reading 'completions')\"\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"OpenAI API Error\"\u001b[39m\nReceived: \u001b[31m\"Cannot read properties of undefined (reading 'completions')\"\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\aiService.test.js:236:28)"],"fullName":"AIService analyzeTranscription should handle OpenAI API error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196513338,"status":"failed","title":"should handle OpenAI API error"},{"ancestorTitles":["AIService","analyzeTranscription"],"duration":23,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AIService analyzeTranscription should return error when service is disabled","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196513603,"status":"passed","title":"should return error when service is disabled"},{"ancestorTitles":["AIService","processRecording"],"duration":153,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AIService processRecording should process recording with full pipeline","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1761196513976,"status":"passed","title":"should process recording with full pipeline"},{"ancestorTitles":["AIService","processRecording"],"duration":92,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AIService processRecording should handle transcription failure","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196514189,"status":"passed","title":"should handle transcription failure"},{"ancestorTitles":["AIService","authenticateVoice"],"duration":84,"failing":false,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\aiService.test.js:315:30)"],"fullName":"AIService authenticateVoice should authenticate voice successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196514508,"status":"failed","title":"should authenticate voice successfully"},{"ancestorTitles":["AIService","authenticateVoice"],"duration":104,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"Failed to download audio: 404\"\u001b[39m\nReceived string:    \u001b[31m\"Cannot read properties of undefined (reading 'status')\"\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"Failed to download audio: 404\"\u001b[39m\nReceived string:    \u001b[31m\"Cannot read properties of undefined (reading 'status')\"\u001b[39m\n    at Object.toContain (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\aiService.test.js:329:28)"],"fullName":"AIService authenticateVoice should handle audio download failure","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196514641,"status":"failed","title":"should handle audio download failure"},{"ancestorTitles":["AIService","authenticateVoice"],"duration":100,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AIService authenticateVoice should return error when service is disabled","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196514825,"status":"passed","title":"should return error when service is disabled"},{"ancestorTitles":["AIService","createVoiceProfile"],"duration":84,"failing":false,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\aiService.test.js:357:30)"],"fullName":"AIService createVoiceProfile should create voice profile successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196514939,"status":"failed","title":"should create voice profile successfully"},{"ancestorTitles":["AIService","createVoiceProfile"],"duration":68,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"Failed to download enrollment audio: 404\"\u001b[39m\nReceived string:    \u001b[31m\"Cannot read properties of undefined (reading 'status')\"\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"Failed to download enrollment audio: 404\"\u001b[39m\nReceived string:    \u001b[31m\"Cannot read properties of undefined (reading 'status')\"\u001b[39m\n    at Object.toContain (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\aiService.test.js:369:28)"],"fullName":"AIService createVoiceProfile should handle enrollment audio download failure","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196515027,"status":"failed","title":"should handle enrollment audio download failure"},{"ancestorTitles":["AIService","createVoiceProfile"],"duration":62,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AIService createVoiceProfile should return error when service is disabled","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196515099,"status":"passed","title":"should return error when service is disabled"},{"ancestorTitles":["AIService","parseFallbackAnalysis"],"duration":64,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AIService parseFallbackAnalysis should extract urgent priority from text","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196515216,"status":"passed","title":"should extract urgent priority from text"},{"ancestorTitles":["AIService","parseFallbackAnalysis"],"duration":47,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AIService parseFallbackAnalysis should extract leave at door condition","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196515473,"status":"passed","title":"should extract leave at door condition"},{"ancestorTitles":["AIService","parseFallbackAnalysis"],"duration":61,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AIService parseFallbackAnalysis should detect concerns in text","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196515864,"status":"passed","title":"should detect concerns in text"},{"ancestorTitles":["AIService","performVoiceVerification"],"duration":152,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AIService performVoiceVerification should return simulated verification result","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1761196516110,"status":"passed","title":"should return simulated verification result"}],"endTime":1761196516771,"message":"\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mAIService  constructor  should initialize with OpenAI when API key is provided\u001b[39m\u001b[22m\n\n    ReferenceError: AIService is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 66 |\u001b[39m     it(\u001b[32m'should initialize with OpenAI when API key is provided'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 67 |\u001b[39m       process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mOPENAI_API_KEY\u001b[39m \u001b[33m=\u001b[39m \u001b[32m'test-key'\u001b[39m\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 68 |\u001b[39m       \u001b[36mconst\u001b[39m service \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAIService\u001b[39m()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 69 |\u001b[39m       \u001b[22m\n\u001b[2m     \u001b[90m 70 |\u001b[39m       expect(service\u001b[33m.\u001b[39misEnabled)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 71 |\u001b[39m       expect(\u001b[33mOpenAI\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalledWith({\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/aiService.test.js\u001b[39m\u001b[0m\u001b[2m:68:23)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mAIService  constructor  should disable service when no API key provided\u001b[39m\u001b[22m\n\n    ReferenceError: AIService is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 76 |\u001b[39m     it(\u001b[32m'should disable service when no API key provided'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 77 |\u001b[39m       \u001b[36mdelete\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mOPENAI_API_KEY\u001b[39m\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 78 |\u001b[39m       \u001b[36mconst\u001b[39m service \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAIService\u001b[39m()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 79 |\u001b[39m       \u001b[22m\n\u001b[2m     \u001b[90m 80 |\u001b[39m       expect(service\u001b[33m.\u001b[39misEnabled)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 81 |\u001b[39m       expect(service\u001b[33m.\u001b[39mopenai)\u001b[33m.\u001b[39mtoBe(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/aiService.test.js\u001b[39m\u001b[0m\u001b[2m:78:23)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mAIService  transcribeRecording  should transcribe audio successfully\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mtrue\u001b[39m\n    Received: \u001b[31mfalse\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 103 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m aiService\u001b[33m.\u001b[39mtranscribeRecording(audioUrl\u001b[33m,\u001b[39m recordingId)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 104 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 105 |\u001b[39m       expect(result\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 106 |\u001b[39m       expect(result\u001b[33m.\u001b[39mtranscription)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Hello this is a test transcription'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 107 |\u001b[39m       expect(result\u001b[33m.\u001b[39mrecordingId)\u001b[33m.\u001b[39mtoBe(recordingId)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 108 |\u001b[39m       expect(result\u001b[33m.\u001b[39mmodel)\u001b[33m.\u001b[39mtoBe(\u001b[32m'whisper-1'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/aiService.test.js\u001b[39m\u001b[0m\u001b[2m:105:30)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mAIService  transcribeRecording  should return cached result when available\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\n    \u001b[32m- Expected  - 2\u001b[39m\n    \u001b[31m+ Received  + 3\u001b[39m\n\n    \u001b[2m  Object {\u001b[22m\n    \u001b[31m+   \"error\": \"Cannot read properties of undefined (reading 'status')\",\u001b[39m\n    \u001b[31m+   \"processedAt\": \"2025-10-23T05:15:12.258Z\",\u001b[39m\n    \u001b[2m    \"recordingId\": \"rec123\",\u001b[22m\n    \u001b[32m-   \"success\": true,\u001b[39m\n    \u001b[32m-   \"transcription\": \"Cached transcription\",\u001b[39m\n    \u001b[31m+   \"success\": false,\u001b[39m\n    \u001b[2m  }\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 123 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m aiService\u001b[33m.\u001b[39mtranscribeRecording(audioUrl\u001b[33m,\u001b[39m recordingId)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 124 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 125 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual(cachedResult)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m       expect(axios\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m       expect(mockOpenAI\u001b[33m.\u001b[39maudio\u001b[33m.\u001b[39mtranscriptions\u001b[33m.\u001b[39mcreate)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 128 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toEqual (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/aiService.test.js\u001b[39m\u001b[0m\u001b[2m:125:22)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mAIService  transcribeRecording  should handle audio download failure\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\n    Expected substring: \u001b[32m\"Failed to download audio: 404\"\u001b[39m\n    Received string:    \u001b[31m\"Cannot read properties of undefined (reading 'status')\"\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 134 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 135 |\u001b[39m       expect(result\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 136 |\u001b[39m       expect(result\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoContain(\u001b[32m'Failed to download audio: 404'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 137 |\u001b[39m       expect(result\u001b[33m.\u001b[39mrecordingId)\u001b[33m.\u001b[39mtoBe(recordingId)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 138 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 139 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toContain (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/aiService.test.js\u001b[39m\u001b[0m\u001b[2m:136:28)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mAIService  transcribeRecording  should handle OpenAI transcription error\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m\"OpenAI API Error\"\u001b[39m\n    Received: \u001b[31m\"Cannot read properties of undefined (reading 'status')\"\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 144 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 145 |\u001b[39m       expect(result\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 146 |\u001b[39m       expect(result\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBe(\u001b[32m'OpenAI API Error'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 147 |\u001b[39m       expect(result\u001b[33m.\u001b[39mrecordingId)\u001b[33m.\u001b[39mtoBe(recordingId)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 148 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 149 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/aiService.test.js\u001b[39m\u001b[0m\u001b[2m:146:28)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mAIService  analyzeTranscription  should analyze transcription successfully\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mtrue\u001b[39m\n    Received: \u001b[31mfalse\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 184 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m aiService\u001b[33m.\u001b[39manalyzeTranscription(transcription\u001b[33m,\u001b[39m recordingId)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 185 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 186 |\u001b[39m       expect(result\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 187 |\u001b[39m       expect(result\u001b[33m.\u001b[39mtranscription)\u001b[33m.\u001b[39mtoBe(transcription)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 188 |\u001b[39m       expect(result\u001b[33m.\u001b[39mrecordingId)\u001b[33m.\u001b[39mtoBe(recordingId)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 189 |\u001b[39m       expect(result\u001b[33m.\u001b[39manalysis)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/aiService.test.js\u001b[39m\u001b[0m\u001b[2m:186:30)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mAIService  analyzeTranscription  should return cached result when available\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\n    \u001b[32m- Expected  - 4\u001b[39m\n    \u001b[31m+ Received  + 4\u001b[39m\n\n    \u001b[2m  Object {\u001b[22m\n    \u001b[32m-   \"analysis\": Object {\u001b[39m\n    \u001b[32m-     \"sentiment\": \"positive\",\u001b[39m\n    \u001b[32m-   },\u001b[39m\n    \u001b[31m+   \"error\": \"Cannot read properties of undefined (reading 'completions')\",\u001b[39m\n    \u001b[31m+   \"processedAt\": \"2025-10-23T05:15:12.855Z\",\u001b[39m\n    \u001b[2m    \"recordingId\": \"rec123\",\u001b[22m\n    \u001b[32m-   \"success\": true,\u001b[39m\n    \u001b[31m+   \"success\": false,\u001b[39m\n    \u001b[31m+   \"transcription\": \"Please leave the package at the front door. This is urgent!\",\u001b[39m\n    \u001b[2m  }\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 202 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m aiService\u001b[33m.\u001b[39manalyzeTranscription(transcription\u001b[33m,\u001b[39m recordingId)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 203 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 204 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual(cachedResult)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 205 |\u001b[39m       expect(mockOpenAI\u001b[33m.\u001b[39mchat\u001b[33m.\u001b[39mcompletions\u001b[33m.\u001b[39mcreate)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 206 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 207 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toEqual (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/aiService.test.js\u001b[39m\u001b[0m\u001b[2m:204:22)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mAIService  analyzeTranscription  should handle malformed JSON response with fallback parsing\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mtrue\u001b[39m\n    Received: \u001b[31mfalse\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 224 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m aiService\u001b[33m.\u001b[39manalyzeTranscription(transcription\u001b[33m,\u001b[39m recordingId)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 225 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 226 |\u001b[39m       expect(result\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 227 |\u001b[39m       expect(result\u001b[33m.\u001b[39manalysis\u001b[33m.\u001b[39mpriority)\u001b[33m.\u001b[39mtoBe(\u001b[32m'urgent'\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// From fallback parsing\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 228 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 229 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/aiService.test.js\u001b[39m\u001b[0m\u001b[2m:226:30)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mAIService  analyzeTranscription  should handle OpenAI API error\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m\"OpenAI API Error\"\u001b[39m\n    Received: \u001b[31m\"Cannot read properties of undefined (reading 'completions')\"\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 234 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 235 |\u001b[39m       expect(result\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 236 |\u001b[39m       expect(result\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBe(\u001b[32m'OpenAI API Error'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 237 |\u001b[39m       expect(result\u001b[33m.\u001b[39mrecordingId)\u001b[33m.\u001b[39mtoBe(recordingId)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 238 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 239 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/aiService.test.js\u001b[39m\u001b[0m\u001b[2m:236:28)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mAIService  authenticateVoice  should authenticate voice successfully\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mtrue\u001b[39m\n    Received: \u001b[31mfalse\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 313 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m aiService\u001b[33m.\u001b[39mauthenticateVoice(audioUrl\u001b[33m,\u001b[39m profileId)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 314 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 315 |\u001b[39m       expect(result\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 316 |\u001b[39m       expect(result\u001b[33m.\u001b[39mauthenticated)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 317 |\u001b[39m       expect(result\u001b[33m.\u001b[39mconfidence)\u001b[33m.\u001b[39mtoBe(\u001b[35m85.5\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 318 |\u001b[39m       expect(result\u001b[33m.\u001b[39mprofileId)\u001b[33m.\u001b[39mtoBe(profileId)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/aiService.test.js\u001b[39m\u001b[0m\u001b[2m:315:30)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mAIService  authenticateVoice  should handle audio download failure\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\n    Expected substring: \u001b[32m\"Failed to download audio: 404\"\u001b[39m\n    Received string:    \u001b[31m\"Cannot read properties of undefined (reading 'status')\"\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 327 |\u001b[39m       expect(result\u001b[33m.\u001b[39mauthenticated)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 328 |\u001b[39m       expect(result\u001b[33m.\u001b[39mconfidence)\u001b[33m.\u001b[39mtoBe(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 329 |\u001b[39m       expect(result\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoContain(\u001b[32m'Failed to download audio: 404'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 330 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 331 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 332 |\u001b[39m     it(\u001b[32m'should return error when service is disabled'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toContain (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/aiService.test.js\u001b[39m\u001b[0m\u001b[2m:329:28)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mAIService  createVoiceProfile  should create voice profile successfully\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mtrue\u001b[39m\n    Received: \u001b[31mfalse\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 355 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m aiService\u001b[33m.\u001b[39mcreateVoiceProfile(audioUrl\u001b[33m,\u001b[39m userId)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 356 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 357 |\u001b[39m       expect(result\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 358 |\u001b[39m       expect(result\u001b[33m.\u001b[39mprofileId)\u001b[33m.\u001b[39mtoContain(\u001b[32m`voice_profile_${userId}`\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 359 |\u001b[39m       expect(result\u001b[33m.\u001b[39muserId)\u001b[33m.\u001b[39mtoBe(userId)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 360 |\u001b[39m       expect(result\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'active'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/aiService.test.js\u001b[39m\u001b[0m\u001b[2m:357:30)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mAIService  createVoiceProfile  should handle enrollment audio download failure\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\n    Expected substring: \u001b[32m\"Failed to download enrollment audio: 404\"\u001b[39m\n    Received string:    \u001b[31m\"Cannot read properties of undefined (reading 'status')\"\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 367 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 368 |\u001b[39m       expect(result\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 369 |\u001b[39m       expect(result\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoContain(\u001b[32m'Failed to download enrollment audio: 404'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 370 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 371 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 372 |\u001b[39m     it(\u001b[32m'should return error when service is disabled'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toContain (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/aiService.test.js\u001b[39m\u001b[0m\u001b[2m:369:28)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\aiService.test.js","startTime":1761196510266,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Twilio Service","makeCustomerCall"],"duration":1916,"failing":false,"failureDetails":[{}],"failureMessages":["Error: Twilio client not configured. Please set TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN\n    at Object.makeCustomerCall (C:\\Users\\deepa\\Documents\\DelAuto\\src\\services\\twilioService.js:16:11)\n    at Object.makeCustomerCall (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\twilioService.test.js:62:42)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"Twilio Service makeCustomerCall should make a customer call successfully when configured","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196519960,"status":"failed","title":"should make a customer call successfully when configured"},{"ancestorTitles":["Twilio Service","makeCustomerCall"],"duration":275,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Twilio Service makeCustomerCall should throw error when Twilio client is not configured","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196522059,"status":"passed","title":"should throw error when Twilio client is not configured"},{"ancestorTitles":["Twilio Service","makeCustomerCall"],"duration":250,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected substring: \u001b[32m\"Invalid phone number\"\u001b[39m\nReceived message:   \u001b[31m\"Twilio client not configured. Please set TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN\"\u001b[39m\n\n    \u001b[0m \u001b[90m 14 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m makeCustomerCall(delivery) {\n     \u001b[90m 15 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mtwilioClient) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 16 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 17 |\u001b[39m       \u001b[32m'Twilio client not configured. Please set TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 18 |\u001b[39m     )\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   }\u001b[0m\n\n      \u001b[2mat Object.makeCustomerCall (\u001b[22msrc/services/twilioService.js\u001b[2m:16:11)\u001b[22m\n      \u001b[2mat Object.makeCustomerCall (\u001b[22mtests/services/twilioService.test.js\u001b[2m:113:34)\u001b[22m","pass":false},"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected substring: \u001b[32m\"Invalid phone number\"\u001b[39m\nReceived message:   \u001b[31m\"Twilio client not configured. Please set TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN\"\u001b[39m\n\n    \u001b[0m \u001b[90m 14 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m makeCustomerCall(delivery) {\n     \u001b[90m 15 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mtwilioClient) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 16 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 17 |\u001b[39m       \u001b[32m'Twilio client not configured. Please set TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 18 |\u001b[39m     )\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   }\u001b[0m\n\n      \u001b[2mat Object.makeCustomerCall (\u001b[22msrc/services/twilioService.js\u001b[2m:16:11)\u001b[22m\n      \u001b[2mat Object.makeCustomerCall (\u001b[22mtests/services/twilioService.test.js\u001b[2m:113:34)\u001b[22m"}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected substring: \u001b[32m\"Invalid phone number\"\u001b[39m\nReceived message:   \u001b[31m\"Twilio client not configured. Please set TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN\"\u001b[39m\n\n    \u001b[0m \u001b[90m 14 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m makeCustomerCall(delivery) {\n     \u001b[90m 15 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mtwilioClient) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 16 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 17 |\u001b[39m       \u001b[32m'Twilio client not configured. Please set TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 18 |\u001b[39m     )\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   }\u001b[0m\n\n      \u001b[2mat Object.makeCustomerCall (\u001b[22msrc/services/twilioService.js\u001b[2m:16:11)\u001b[22m\n      \u001b[2mat Object.makeCustomerCall (\u001b[22mtests/services/twilioService.test.js\u001b[2m:113:34)\u001b[22m\n    at Object.toThrow (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\expect\\build\\index.js:2155:20)\n    at Object.toThrow (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\twilioService.test.js:113:74)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"Twilio Service makeCustomerCall should handle Twilio API errors","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196522440,"status":"failed","title":"should handle Twilio API errors"},{"ancestorTitles":["Twilio Service","makeCustomerCall"],"duration":239,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected substring: \u001b[32m\"Database error\"\u001b[39m\nReceived message:   \u001b[31m\"Twilio client not configured. Please set TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN\"\u001b[39m\n\n    \u001b[0m \u001b[90m 14 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m makeCustomerCall(delivery) {\n     \u001b[90m 15 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mtwilioClient) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 16 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 17 |\u001b[39m       \u001b[32m'Twilio client not configured. Please set TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 18 |\u001b[39m     )\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   }\u001b[0m\n\n      \u001b[2mat Object.makeCustomerCall (\u001b[22msrc/services/twilioService.js\u001b[2m:16:11)\u001b[22m\n      \u001b[2mat Object.makeCustomerCall (\u001b[22mtests/services/twilioService.test.js\u001b[2m:132:34)\u001b[22m","pass":false},"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected substring: \u001b[32m\"Database error\"\u001b[39m\nReceived message:   \u001b[31m\"Twilio client not configured. Please set TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN\"\u001b[39m\n\n    \u001b[0m \u001b[90m 14 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m makeCustomerCall(delivery) {\n     \u001b[90m 15 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mtwilioClient) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 16 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 17 |\u001b[39m       \u001b[32m'Twilio client not configured. Please set TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 18 |\u001b[39m     )\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   }\u001b[0m\n\n      \u001b[2mat Object.makeCustomerCall (\u001b[22msrc/services/twilioService.js\u001b[2m:16:11)\u001b[22m\n      \u001b[2mat Object.makeCustomerCall (\u001b[22mtests/services/twilioService.test.js\u001b[2m:132:34)\u001b[22m"}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected substring: \u001b[32m\"Database error\"\u001b[39m\nReceived message:   \u001b[31m\"Twilio client not configured. Please set TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN\"\u001b[39m\n\n    \u001b[0m \u001b[90m 14 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m makeCustomerCall(delivery) {\n     \u001b[90m 15 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mtwilioClient) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 16 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 17 |\u001b[39m       \u001b[32m'Twilio client not configured. Please set TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 18 |\u001b[39m     )\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   }\u001b[0m\n\n      \u001b[2mat Object.makeCustomerCall (\u001b[22msrc/services/twilioService.js\u001b[2m:16:11)\u001b[22m\n      \u001b[2mat Object.makeCustomerCall (\u001b[22mtests/services/twilioService.test.js\u001b[2m:132:34)\u001b[22m\n    at Object.toThrow (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\expect\\build\\index.js:2155:20)\n    at Object.toThrow (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\twilioService.test.js:132:74)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"Twilio Service makeCustomerCall should handle call log save failure","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196522854,"status":"failed","title":"should handle call log save failure"},{"ancestorTitles":["Twilio Service","makeCustomerCall"],"duration":286,"failing":false,"failureDetails":[{}],"failureMessages":["Error: Twilio client not configured. Please set TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN\n    at Object.makeCustomerCall (C:\\Users\\deepa\\Documents\\DelAuto\\src\\services\\twilioService.js:16:11)\n    at Object.makeCustomerCall (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\twilioService.test.js:151:27)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"Twilio Service makeCustomerCall should include delivery ID in webhook URL","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196523141,"status":"failed","title":"should include delivery ID in webhook URL"},{"ancestorTitles":["Twilio Service","makeCustomerCall"],"duration":277,"failing":false,"failureDetails":[{}],"failureMessages":["Error: Twilio client not configured. Please set TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN\n    at Object.makeCustomerCall (C:\\Users\\deepa\\Documents\\DelAuto\\src\\services\\twilioService.js:16:11)\n    at Object.makeCustomerCall (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\twilioService.test.js:173:27)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"Twilio Service makeCustomerCall should use correct status callback events","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196523445,"status":"failed","title":"should use correct status callback events"},{"ancestorTitles":["Twilio Service","module exports"],"duration":345,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Twilio Service module exports should export makeCustomerCall function","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196523777,"status":"passed","title":"should export makeCustomerCall function"},{"ancestorTitles":["Twilio Service","module exports"],"duration":274,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeDefined\u001b[2m()\u001b[22m\n\nReceived: \u001b[31mundefined\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeDefined\u001b[2m()\u001b[22m\n\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBeDefined (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\twilioService.test.js:197:42)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"Twilio Service module exports should export twilioClient when configured","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196524310,"status":"failed","title":"should export twilioClient when configured"},{"ancestorTitles":["Twilio Service","module exports"],"duration":355,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Twilio Service module exports should export null twilioClient when not configured","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196524658,"status":"passed","title":"should export null twilioClient when not configured"}],"endTime":1761196525241,"message":"\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mTwilio Service  makeCustomerCall  should make a customer call successfully when configured\u001b[39m\u001b[22m\n\n    Twilio client not configured. Please set TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 14 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m makeCustomerCall(delivery) {\u001b[22m\n\u001b[2m     \u001b[90m 15 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mtwilioClient) {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 16 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 17 |\u001b[39m       \u001b[32m'Twilio client not configured. Please set TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 18 |\u001b[39m     )\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 19 |\u001b[39m   }\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.makeCustomerCall (\u001b[22m\u001b[2m../src/services/twilioService.js\u001b[2m:16:11)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.makeCustomerCall (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/twilioService.test.js\u001b[39m\u001b[0m\u001b[2m:62:42)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mTwilio Service  makeCustomerCall  should handle Twilio API errors\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected substring: \u001b[32m\"Invalid phone number\"\u001b[39m\n    Received message:   \u001b[31m\"Twilio client not configured. Please set TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN\"\u001b[39m\n\n        \u001b[0m \u001b[90m 14 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m makeCustomerCall(delivery) {\n         \u001b[90m 15 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mtwilioClient) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 16 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\n         \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 17 |\u001b[39m       \u001b[32m'Twilio client not configured. Please set TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN'\u001b[39m\u001b[33m,\u001b[39m\n         \u001b[90m 18 |\u001b[39m     )\u001b[33m;\u001b[39m\n         \u001b[90m 19 |\u001b[39m   }\u001b[0m\n\n          \u001b[2mat Object.makeCustomerCall (\u001b[22msrc/services/twilioService.js\u001b[2m:16:11)\u001b[22m\n          \u001b[2mat Object.makeCustomerCall (\u001b[22mtests/services/twilioService.test.js\u001b[2m:113:34)\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 111 |\u001b[39m       \u001b[36mconst\u001b[39m twilioService \u001b[33m=\u001b[39m require(\u001b[32m'../../src/services/twilioService'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 112 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 113 |\u001b[39m       \u001b[36mawait\u001b[39m expect(twilioService\u001b[33m.\u001b[39mmakeCustomerCall(mockDelivery))\u001b[33m.\u001b[39mrejects\u001b[33m.\u001b[39mtoThrow(\u001b[32m'Invalid phone number'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 114 |\u001b[39m       expect(\u001b[33mCallLog\u001b[39m)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 115 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 116 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toThrow (\u001b[22m\u001b[2m../node_modules/expect/build/index.js\u001b[2m:2155:20)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toThrow (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/twilioService.test.js\u001b[39m\u001b[0m\u001b[2m:113:74)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mTwilio Service  makeCustomerCall  should handle call log save failure\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected substring: \u001b[32m\"Database error\"\u001b[39m\n    Received message:   \u001b[31m\"Twilio client not configured. Please set TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN\"\u001b[39m\n\n        \u001b[0m \u001b[90m 14 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m makeCustomerCall(delivery) {\n         \u001b[90m 15 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mtwilioClient) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 16 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\n         \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 17 |\u001b[39m       \u001b[32m'Twilio client not configured. Please set TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN'\u001b[39m\u001b[33m,\u001b[39m\n         \u001b[90m 18 |\u001b[39m     )\u001b[33m;\u001b[39m\n         \u001b[90m 19 |\u001b[39m   }\u001b[0m\n\n          \u001b[2mat Object.makeCustomerCall (\u001b[22msrc/services/twilioService.js\u001b[2m:16:11)\u001b[22m\n          \u001b[2mat Object.makeCustomerCall (\u001b[22mtests/services/twilioService.test.js\u001b[2m:132:34)\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 130 |\u001b[39m       \u001b[36mconst\u001b[39m twilioService \u001b[33m=\u001b[39m require(\u001b[32m'../../src/services/twilioService'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 131 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 132 |\u001b[39m       \u001b[36mawait\u001b[39m expect(twilioService\u001b[33m.\u001b[39mmakeCustomerCall(mockDelivery))\u001b[33m.\u001b[39mrejects\u001b[33m.\u001b[39mtoThrow(\u001b[32m'Database error'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 133 |\u001b[39m       expect(mockTwilioClient\u001b[33m.\u001b[39mcalls\u001b[33m.\u001b[39mcreate)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 134 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 135 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toThrow (\u001b[22m\u001b[2m../node_modules/expect/build/index.js\u001b[2m:2155:20)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toThrow (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/twilioService.test.js\u001b[39m\u001b[0m\u001b[2m:132:74)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mTwilio Service  makeCustomerCall  should include delivery ID in webhook URL\u001b[39m\u001b[22m\n\n    Twilio client not configured. Please set TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 14 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m makeCustomerCall(delivery) {\u001b[22m\n\u001b[2m     \u001b[90m 15 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mtwilioClient) {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 16 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 17 |\u001b[39m       \u001b[32m'Twilio client not configured. Please set TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 18 |\u001b[39m     )\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 19 |\u001b[39m   }\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.makeCustomerCall (\u001b[22m\u001b[2m../src/services/twilioService.js\u001b[2m:16:11)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.makeCustomerCall (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/twilioService.test.js\u001b[39m\u001b[0m\u001b[2m:151:27)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mTwilio Service  makeCustomerCall  should use correct status callback events\u001b[39m\u001b[22m\n\n    Twilio client not configured. Please set TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 14 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m makeCustomerCall(delivery) {\u001b[22m\n\u001b[2m     \u001b[90m 15 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mtwilioClient) {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 16 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 17 |\u001b[39m       \u001b[32m'Twilio client not configured. Please set TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 18 |\u001b[39m     )\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 19 |\u001b[39m   }\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.makeCustomerCall (\u001b[22m\u001b[2m../src/services/twilioService.js\u001b[2m:16:11)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.makeCustomerCall (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/twilioService.test.js\u001b[39m\u001b[0m\u001b[2m:173:27)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mTwilio Service  module exports  should export twilioClient when configured\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeDefined\u001b[2m()\u001b[22m\n\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 195 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 196 |\u001b[39m       \u001b[36mconst\u001b[39m twilioService \u001b[33m=\u001b[39m require(\u001b[32m'../../src/services/twilioService'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 197 |\u001b[39m       expect(twilioService\u001b[33m.\u001b[39mtwilioClient)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 198 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 199 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 200 |\u001b[39m     it(\u001b[32m'should export null twilioClient when not configured'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBeDefined (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/twilioService.test.js\u001b[39m\u001b[0m\u001b[2m:197:42)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\twilioService.test.js","startTime":1761196517195,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Deliveries API Routes","GET /api/deliveries"],"duration":178,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Deliveries API Routes GET /api/deliveries should return empty array when no deliveries exist","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196529574,"status":"passed","title":"should return empty array when no deliveries exist"},{"ancestorTitles":["Deliveries API Routes","GET /api/deliveries"],"duration":81,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Deliveries API Routes GET /api/deliveries should return all deliveries","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196529767,"status":"passed","title":"should return all deliveries"},{"ancestorTitles":["Deliveries API Routes","GET /api/deliveries"],"duration":84,"failing":false,"failureDetails":[{"matcherResult":{"expected":"Internal server error","message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"Internal server error\"\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"Internal server error\"\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\deliveries.test.js:84:35)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Deliveries API Routes GET /api/deliveries should handle database errors","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196529874,"status":"failed","title":"should handle database errors"},{"ancestorTitles":["Deliveries API Routes","POST /api/deliveries"],"duration":109,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Deliveries API Routes POST /api/deliveries should create a new delivery","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196529993,"status":"passed","title":"should create a new delivery"},{"ancestorTitles":["Deliveries API Routes","POST /api/deliveries"],"duration":61,"failing":false,"failureDetails":[{"matcherResult":{"expected":"Internal server error","message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"Internal server error\"\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"Internal server error\"\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\deliveries.test.js:144:35)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Deliveries API Routes POST /api/deliveries should handle creation errors","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196530106,"status":"failed","title":"should handle creation errors"},{"ancestorTitles":["Deliveries API Routes","GET /api/deliveries/:id"],"duration":71,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Deliveries API Routes GET /api/deliveries/:id should return a delivery by ID","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196530171,"status":"passed","title":"should return a delivery by ID"},{"ancestorTitles":["Deliveries API Routes","GET /api/deliveries/:id"],"duration":84,"failing":false,"failureDetails":[{"matcherResult":{"expected":"Delivery not found","message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"Delivery not found\"\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"Delivery not found\"\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\deliveries.test.js:188:35)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Deliveries API Routes GET /api/deliveries/:id should return 404 for non-existent delivery","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196530244,"status":"failed","title":"should return 404 for non-existent delivery"},{"ancestorTitles":["Deliveries API Routes","PUT /api/deliveries/:id"],"duration":76,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Deliveries API Routes PUT /api/deliveries/:id should update a delivery","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196530349,"status":"passed","title":"should update a delivery"},{"ancestorTitles":["Deliveries API Routes","PUT /api/deliveries/:id"],"duration":81,"failing":false,"failureDetails":[{"matcherResult":{"expected":"Delivery not found","message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"Delivery not found\"\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"Delivery not found\"\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\deliveries.test.js:242:35)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Deliveries API Routes PUT /api/deliveries/:id should return 404 for non-existent delivery","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196530427,"status":"failed","title":"should return 404 for non-existent delivery"},{"ancestorTitles":["Deliveries API Routes","DELETE /api/deliveries/:id"],"duration":67,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Deliveries API Routes DELETE /api/deliveries/:id should delete a delivery","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196530541,"status":"passed","title":"should delete a delivery"},{"ancestorTitles":["Deliveries API Routes","DELETE /api/deliveries/:id"],"duration":60,"failing":false,"failureDetails":[{"matcherResult":{"expected":"Delivery not found","message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"Delivery not found\"\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"Delivery not found\"\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\deliveries.test.js:273:35)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Deliveries API Routes DELETE /api/deliveries/:id should return 404 for non-existent delivery","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196530611,"status":"failed","title":"should return 404 for non-existent delivery"}],"endTime":1761196530808,"message":"\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mDeliveries API Routes  GET /api/deliveries  should handle database errors\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m\"Internal server error\"\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 82 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m500\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 83 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 84 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Internal server error'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 85 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 86 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 87 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/deliveries.test.js\u001b[39m\u001b[0m\u001b[2m:84:35)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mDeliveries API Routes  POST /api/deliveries  should handle creation errors\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m\"Internal server error\"\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 142 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m500\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 143 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 144 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Internal server error'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 145 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 146 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 147 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/deliveries.test.js\u001b[39m\u001b[0m\u001b[2m:144:35)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mDeliveries API Routes  GET /api/deliveries/:id  should return 404 for non-existent delivery\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m\"Delivery not found\"\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 186 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m404\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 187 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 188 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Delivery not found'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 189 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 190 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 191 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/deliveries.test.js\u001b[39m\u001b[0m\u001b[2m:188:35)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mDeliveries API Routes  PUT /api/deliveries/:id  should return 404 for non-existent delivery\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m\"Delivery not found\"\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 240 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m404\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 241 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 242 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Delivery not found'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 243 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 244 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 245 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/deliveries.test.js\u001b[39m\u001b[0m\u001b[2m:242:35)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mDeliveries API Routes  DELETE /api/deliveries/:id  should return 404 for non-existent delivery\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m\"Delivery not found\"\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 271 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m404\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 272 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 273 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Delivery not found'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 274 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 275 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 276 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mapi/routes/deliveries.test.js\u001b[39m\u001b[0m\u001b[2m:273:35)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\deliveries.test.js","startTime":1761196527570,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["StorageService","uploadFile"],"duration":9,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m{\"credentials\": {\"accessKeyId\": \"test_access_key\", \"secretAccessKey\": \"test_secret_key\"}, \"endpoint\": \"https://test.r2.cloudflarestorage.com\", \"region\": \"auto\"}\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m{\"credentials\": {\"accessKeyId\": \"test_access_key\", \"secretAccessKey\": \"test_secret_key\"}, \"endpoint\": \"https://test.r2.cloudflarestorage.com\", \"region\": \"auto\"}\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\storageService.test.js:59:24)"],"fullName":"StorageService uploadFile should upload file successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196531723,"status":"failed","title":"should upload file successfully"},{"ancestorTitles":["StorageService","uploadFile"],"duration":113,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"StorageService uploadFile should throw error when R2 storage not configured","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196531760,"status":"passed","title":"should throw error when R2 storage not configured"},{"ancestorTitles":["StorageService","uploadFile"],"duration":61,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"StorageService uploadFile should handle S3 upload error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196531889,"status":"passed","title":"should handle S3 upload error"},{"ancestorTitles":["StorageService","uploadFile"],"duration":18,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'Key')\n    at Object.Key (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\storageService.test.js:107:30)"],"fullName":"StorageService uploadFile should generate unique file keys with timestamp","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196531972,"status":"failed","title":"should generate unique file keys with timestamp"},{"ancestorTitles":["StorageService","getSignedUrl"],"duration":15,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'Bucket')\n    at Object.Bucket (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\storageService.test.js:133:28)"],"fullName":"StorageService getSignedUrl should generate signed URL successfully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196532007,"status":"failed","title":"should generate signed URL successfully"},{"ancestorTitles":["StorageService","getSignedUrl"],"duration":15,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"StorageService getSignedUrl should use custom expiration time","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196532025,"status":"passed","title":"should use custom expiration time"},{"ancestorTitles":["StorageService","getSignedUrl"],"duration":51,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"StorageService getSignedUrl should throw error when R2 storage not configured","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196532042,"status":"passed","title":"should throw error when R2 storage not configured"},{"ancestorTitles":["StorageService","getSignedUrl"],"duration":21,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"StorageService getSignedUrl should handle signed URL generation error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196532106,"status":"passed","title":"should handle signed URL generation error"},{"ancestorTitles":["StorageService","deleteFile"],"duration":35,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'Bucket')\n    at Object.Bucket (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\storageService.test.js:177:25)"],"fullName":"StorageService deleteFile should delete file successfully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196532141,"status":"failed","title":"should delete file successfully"},{"ancestorTitles":["StorageService","deleteFile"],"duration":63,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"StorageService deleteFile should throw error when R2 storage not configured","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196532192,"status":"passed","title":"should throw error when R2 storage not configured"},{"ancestorTitles":["StorageService","deleteFile"],"duration":20,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"StorageService deleteFile should handle S3 delete error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196532256,"status":"passed","title":"should handle S3 delete error"},{"ancestorTitles":["StorageService","uploadRecording"],"duration":15,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"StorageService uploadRecording should upload recording with audio/wav mime type","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196532277,"status":"passed","title":"should upload recording with audio/wav mime type"},{"ancestorTitles":["StorageService","uploadRecording"],"duration":14,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"StorageService uploadRecording should return public URL for recording","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196532294,"status":"passed","title":"should return public URL for recording"},{"ancestorTitles":["StorageService","configuration"],"duration":15,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m{\"credentials\": {\"accessKeyId\": \"test_access_key\", \"secretAccessKey\": \"test_secret_key\"}, \"endpoint\": \"https://test.r2.cloudflarestorage.com\", \"region\": \"auto\"}\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m{\"credentials\": {\"accessKeyId\": \"test_access_key\", \"secretAccessKey\": \"test_secret_key\"}, \"endpoint\": \"https://test.r2.cloudflarestorage.com\", \"region\": \"auto\"}\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\storageService.test.js:226:24)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"StorageService configuration should initialize S3Client with correct configuration","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196532310,"status":"failed","title":"should initialize S3Client with correct configuration"},{"ancestorTitles":["StorageService","configuration"],"duration":13,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"StorageService configuration should export singleton instance","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196532327,"status":"passed","title":"should export singleton instance"}],"endTime":1761196532418,"message":"\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mStorageService  uploadFile  should upload file successfully\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected: \u001b[32m{\"credentials\": {\"accessKeyId\": \"test_access_key\", \"secretAccessKey\": \"test_secret_key\"}, \"endpoint\": \"https://test.r2.cloudflarestorage.com\", \"region\": \"auto\"}\u001b[39m\n\n    Number of calls: \u001b[31m0\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 57 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m storageService\u001b[33m.\u001b[39muploadFile(fileBuffer\u001b[33m,\u001b[39m fileName\u001b[33m,\u001b[39m mimeType)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 58 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 59 |\u001b[39m       expect(\u001b[33mS3Client\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalledWith({\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 60 |\u001b[39m         region\u001b[33m:\u001b[39m \u001b[32m'auto'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 61 |\u001b[39m         endpoint\u001b[33m:\u001b[39m \u001b[32m'https://test.r2.cloudflarestorage.com'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 62 |\u001b[39m         credentials\u001b[33m:\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveBeenCalledWith (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/storageService.test.js\u001b[39m\u001b[0m\u001b[2m:59:24)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mStorageService  uploadFile  should generate unique file keys with timestamp\u001b[39m\u001b[22m\n\n    TypeError: Cannot read properties of undefined (reading 'Key')\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 105 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 106 |\u001b[39m       \u001b[36mconst\u001b[39m call \u001b[33m=\u001b[39m mockS3Client\u001b[33m.\u001b[39msend\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 107 |\u001b[39m       \u001b[36mconst\u001b[39m key \u001b[33m=\u001b[39m call\u001b[33m.\u001b[39minput\u001b[33m.\u001b[39m\u001b[33mKey\u001b[39m\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 108 |\u001b[39m       \u001b[36mconst\u001b[39m timestamp \u001b[33m=\u001b[39m parseInt(key\u001b[33m.\u001b[39msplit(\u001b[32m'-'\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreplace(\u001b[32m'recordings/'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m''\u001b[39m))\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 109 |\u001b[39m       \u001b[22m\n\u001b[2m     \u001b[90m 110 |\u001b[39m       expect(timestamp)\u001b[33m.\u001b[39mtoBeGreaterThanOrEqual(beforeTime)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.Key (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/storageService.test.js\u001b[39m\u001b[0m\u001b[2m:107:30)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mStorageService  getSignedUrl  should generate signed URL successfully\u001b[39m\u001b[22m\n\n    TypeError: Cannot read properties of undefined (reading 'Bucket')\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 131 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 132 |\u001b[39m       \u001b[36mconst\u001b[39m command \u001b[33m=\u001b[39m getSignedUrl\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m1\u001b[39m]\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 133 |\u001b[39m       expect(command\u001b[33m.\u001b[39minput\u001b[33m.\u001b[39m\u001b[33mBucket\u001b[39m)\u001b[33m.\u001b[39mtoBe(\u001b[32m'test_bucket'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 134 |\u001b[39m       expect(command\u001b[33m.\u001b[39minput\u001b[33m.\u001b[39m\u001b[33mKey\u001b[39m)\u001b[33m.\u001b[39mtoBe(fileKey)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 135 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBe(\u001b[32m'https://signed-url.example.com/file'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 136 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.Bucket (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/storageService.test.js\u001b[39m\u001b[0m\u001b[2m:133:28)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mStorageService  deleteFile  should delete file successfully\u001b[39m\u001b[22m\n\n    TypeError: Cannot read properties of undefined (reading 'Bucket')\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 175 |\u001b[39m       \u001b[22m\n\u001b[2m     \u001b[90m 176 |\u001b[39m       \u001b[36mconst\u001b[39m call \u001b[33m=\u001b[39m mockS3Client\u001b[33m.\u001b[39msend\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 177 |\u001b[39m       expect(call\u001b[33m.\u001b[39minput\u001b[33m.\u001b[39m\u001b[33mBucket\u001b[39m)\u001b[33m.\u001b[39mtoBe(\u001b[32m'test_bucket'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 178 |\u001b[39m       expect(call\u001b[33m.\u001b[39minput\u001b[33m.\u001b[39m\u001b[33mKey\u001b[39m)\u001b[33m.\u001b[39mtoBe(fileKey)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 179 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 180 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.Bucket (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/storageService.test.js\u001b[39m\u001b[0m\u001b[2m:177:25)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mStorageService  configuration  should initialize S3Client with correct configuration\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected: \u001b[32m{\"credentials\": {\"accessKeyId\": \"test_access_key\", \"secretAccessKey\": \"test_secret_key\"}, \"endpoint\": \"https://test.r2.cloudflarestorage.com\", \"region\": \"auto\"}\u001b[39m\n\n    Number of calls: \u001b[31m0\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 224 |\u001b[39m   describe(\u001b[32m'configuration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 225 |\u001b[39m     it(\u001b[32m'should initialize S3Client with correct configuration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 226 |\u001b[39m       expect(\u001b[33mS3Client\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalledWith({\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 227 |\u001b[39m         region\u001b[33m:\u001b[39m \u001b[32m'auto'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 228 |\u001b[39m         endpoint\u001b[33m:\u001b[39m \u001b[32m'https://test.r2.cloudflarestorage.com'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 229 |\u001b[39m         credentials\u001b[33m:\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveBeenCalledWith (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/storageService.test.js\u001b[39m\u001b[0m\u001b[2m:226:24)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\storageService.test.js","startTime":1761196530966,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["QueueService","addCallJob function"],"duration":11,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"initiate-call\"\u001b[39m, \u001b[32m{\"address\": \"123 Main St\", \"customer_phone\": \"+1234567890\", \"delivery_id\": \"507f1f77bcf86cd799439011\"}\u001b[39m, \u001b[32m{\"delay\": 0, \"removeOnComplete\": 10, \"removeOnFail\": 5}\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"initiate-call\"\u001b[39m, \u001b[32m{\"address\": \"123 Main St\", \"customer_phone\": \"+1234567890\", \"delivery_id\": \"507f1f77bcf86cd799439011\"}\u001b[39m, \u001b[32m{\"delay\": 0, \"removeOnComplete\": 10, \"removeOnFail\": 5}\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\queueService.test.js:50:29)"],"fullName":"QueueService addCallJob function should add a call job to the queue with default options","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196533190,"status":"failed","title":"should add a call job to the queue with default options"},{"ancestorTitles":["QueueService","addCallJob function"],"duration":18,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"initiate-call\"\u001b[39m, \u001b[32m{\"customer_phone\": \"+1234567890\", \"delivery_id\": \"507f1f77bcf86cd799439011\"}\u001b[39m, \u001b[32m{\"delay\": 5000, \"removeOnComplete\": 10, \"removeOnFail\": 5}\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"initiate-call\"\u001b[39m, \u001b[32m{\"customer_phone\": \"+1234567890\", \"delivery_id\": \"507f1f77bcf86cd799439011\"}\u001b[39m, \u001b[32m{\"delay\": 5000, \"removeOnComplete\": 10, \"removeOnFail\": 5}\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\queueService.test.js:71:29)"],"fullName":"QueueService addCallJob function should add a call job with custom delay","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196533225,"status":"failed","title":"should add a call job with custom delay"},{"ancestorTitles":["QueueService","addCallJob function"],"duration":6,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"initiate-call\"\u001b[39m, \u001b[32mnull\u001b[39m, \u001b[32m{\"delay\": 0, \"removeOnComplete\": 10, \"removeOnFail\": 5}\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"initiate-call\"\u001b[39m, \u001b[32mnull\u001b[39m, \u001b[32m{\"delay\": 0, \"removeOnComplete\": 10, \"removeOnFail\": 5}\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\queueService.test.js:85:29)"],"fullName":"QueueService addCallJob function should handle missing delivery data gracefully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196533253,"status":"failed","title":"should handle missing delivery data gracefully"},{"ancestorTitles":["QueueService","getQueueStatus function"],"duration":7,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'length')\n    at Object.length [as getQueueStatus] (C:\\Users\\deepa\\Documents\\DelAuto\\src\\services\\queueService.js:30:22)\n    at Object.<anonymous> (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\queueService.test.js:99:22)"],"fullName":"QueueService getQueueStatus function should return correct queue status counts","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196533260,"status":"failed","title":"should return correct queue status counts"},{"ancestorTitles":["QueueService","getQueueStatus function"],"duration":8,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected substring: \u001b[32m\"Queue connection failed\"\u001b[39m\nReceived message:   \u001b[31m\"Cannot read properties of undefined (reading 'length')\"\u001b[39m\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   \u001b[36mreturn\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     waiting\u001b[33m:\u001b[39m waiting\u001b[33m.\u001b[39mlength\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     active\u001b[33m:\u001b[39m active\u001b[33m.\u001b[39mlength\u001b[33m,\u001b[39m\n     \u001b[90m 32 |\u001b[39m     completed\u001b[33m:\u001b[39m completed\u001b[33m.\u001b[39mlength\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     failed\u001b[33m:\u001b[39m failed\u001b[33m.\u001b[39mlength\u001b[33m,\u001b[39m\u001b[0m\n\n      \u001b[2mat Object.length [as getQueueStatus] (\u001b[22msrc/services/queueService.js\u001b[2m:30:22)\u001b[22m\n      \u001b[2mat Object.<anonymous> (\u001b[22mtests/services/queueService.test.js\u001b[2m:117:7)\u001b[22m","pass":false},"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected substring: \u001b[32m\"Queue connection failed\"\u001b[39m\nReceived message:   \u001b[31m\"Cannot read properties of undefined (reading 'length')\"\u001b[39m\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   \u001b[36mreturn\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     waiting\u001b[33m:\u001b[39m waiting\u001b[33m.\u001b[39mlength\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     active\u001b[33m:\u001b[39m active\u001b[33m.\u001b[39mlength\u001b[33m,\u001b[39m\n     \u001b[90m 32 |\u001b[39m     completed\u001b[33m:\u001b[39m completed\u001b[33m.\u001b[39mlength\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     failed\u001b[33m:\u001b[39m failed\u001b[33m.\u001b[39mlength\u001b[33m,\u001b[39m\u001b[0m\n\n      \u001b[2mat Object.length [as getQueueStatus] (\u001b[22msrc/services/queueService.js\u001b[2m:30:22)\u001b[22m\n      \u001b[2mat Object.<anonymous> (\u001b[22mtests/services/queueService.test.js\u001b[2m:117:7)\u001b[22m"}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected substring: \u001b[32m\"Queue connection failed\"\u001b[39m\nReceived message:   \u001b[31m\"Cannot read properties of undefined (reading 'length')\"\u001b[39m\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   \u001b[36mreturn\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     waiting\u001b[33m:\u001b[39m waiting\u001b[33m.\u001b[39mlength\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     active\u001b[33m:\u001b[39m active\u001b[33m.\u001b[39mlength\u001b[33m,\u001b[39m\n     \u001b[90m 32 |\u001b[39m     completed\u001b[33m:\u001b[39m completed\u001b[33m.\u001b[39mlength\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     failed\u001b[33m:\u001b[39m failed\u001b[33m.\u001b[39mlength\u001b[33m,\u001b[39m\u001b[0m\n\n      \u001b[2mat Object.length [as getQueueStatus] (\u001b[22msrc/services/queueService.js\u001b[2m:30:22)\u001b[22m\n      \u001b[2mat Object.<anonymous> (\u001b[22mtests/services/queueService.test.js\u001b[2m:117:7)\u001b[22m\n    at Object.toThrow (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\expect\\build\\index.js:2155:20)\n    at Object.toThrow (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\queueService.test.js:117:59)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"QueueService getQueueStatus function should handle queue errors gracefully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196533280,"status":"failed","title":"should handle queue errors gracefully"},{"ancestorTitles":["QueueService","exports object"],"duration":13,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"QueueService exports object should export the correct functions and objects","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1761196533311,"status":"passed","title":"should export the correct functions and objects"}],"endTime":1761196533391,"message":"\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mQueueService  addCallJob function  should add a call job to the queue with default options\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected: \u001b[32m\"initiate-call\"\u001b[39m, \u001b[32m{\"address\": \"123 Main St\", \"customer_phone\": \"+1234567890\", \"delivery_id\": \"507f1f77bcf86cd799439011\"}\u001b[39m, \u001b[32m{\"delay\": 0, \"removeOnComplete\": 10, \"removeOnFail\": 5}\u001b[39m\n\n    Number of calls: \u001b[31m0\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 48 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m queueService\u001b[33m.\u001b[39maddCallJob(deliveryData)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 49 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 50 |\u001b[39m       expect(mockQueue\u001b[33m.\u001b[39madd)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 51 |\u001b[39m         \u001b[32m'initiate-call'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 52 |\u001b[39m         deliveryData\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 53 |\u001b[39m         {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveBeenCalledWith (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/queueService.test.js\u001b[39m\u001b[0m\u001b[2m:50:29)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mQueueService  addCallJob function  should add a call job with custom delay\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected: \u001b[32m\"initiate-call\"\u001b[39m, \u001b[32m{\"customer_phone\": \"+1234567890\", \"delivery_id\": \"507f1f77bcf86cd799439011\"}\u001b[39m, \u001b[32m{\"delay\": 5000, \"removeOnComplete\": 10, \"removeOnFail\": 5}\u001b[39m\n\n    Number of calls: \u001b[31m0\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 69 |\u001b[39m       \u001b[36mawait\u001b[39m queueService\u001b[33m.\u001b[39maddCallJob(deliveryData\u001b[33m,\u001b[39m delay)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 70 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 71 |\u001b[39m       expect(mockQueue\u001b[33m.\u001b[39madd)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 72 |\u001b[39m         \u001b[32m'initiate-call'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 73 |\u001b[39m         deliveryData\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 74 |\u001b[39m         {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveBeenCalledWith (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/queueService.test.js\u001b[39m\u001b[0m\u001b[2m:71:29)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mQueueService  addCallJob function  should handle missing delivery data gracefully\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected: \u001b[32m\"initiate-call\"\u001b[39m, \u001b[32mnull\u001b[39m, \u001b[32m{\"delay\": 0, \"removeOnComplete\": 10, \"removeOnFail\": 5}\u001b[39m\n\n    Number of calls: \u001b[31m0\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 83 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m queueService\u001b[33m.\u001b[39maddCallJob(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 84 |\u001b[39m       \u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 85 |\u001b[39m       expect(mockQueue\u001b[33m.\u001b[39madd)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 86 |\u001b[39m         \u001b[32m'initiate-call'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 87 |\u001b[39m         \u001b[36mnull\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 88 |\u001b[39m         {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveBeenCalledWith (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/queueService.test.js\u001b[39m\u001b[0m\u001b[2m:85:29)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mQueueService  getQueueStatus function  should return correct queue status counts\u001b[39m\u001b[22m\n\n    TypeError: Cannot read properties of undefined (reading 'length')\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 28 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 29 |\u001b[39m   \u001b[36mreturn\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 30 |\u001b[39m     waiting\u001b[33m:\u001b[39m waiting\u001b[33m.\u001b[39mlength\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 31 |\u001b[39m     active\u001b[33m:\u001b[39m active\u001b[33m.\u001b[39mlength\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 32 |\u001b[39m     completed\u001b[33m:\u001b[39m completed\u001b[33m.\u001b[39mlength\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 33 |\u001b[39m     failed\u001b[33m:\u001b[39m failed\u001b[33m.\u001b[39mlength\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.length [as getQueueStatus] (\u001b[22m\u001b[2m../src/services/queueService.js\u001b[2m:30:22)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/queueService.test.js\u001b[39m\u001b[0m\u001b[2m:99:22)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mQueueService  getQueueStatus function  should handle queue errors gracefully\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected substring: \u001b[32m\"Queue connection failed\"\u001b[39m\n    Received message:   \u001b[31m\"Cannot read properties of undefined (reading 'length')\"\u001b[39m\n\n        \u001b[0m \u001b[90m 28 |\u001b[39m\n         \u001b[90m 29 |\u001b[39m   \u001b[36mreturn\u001b[39m {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     waiting\u001b[33m:\u001b[39m waiting\u001b[33m.\u001b[39mlength\u001b[33m,\u001b[39m\n         \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 31 |\u001b[39m     active\u001b[33m:\u001b[39m active\u001b[33m.\u001b[39mlength\u001b[33m,\u001b[39m\n         \u001b[90m 32 |\u001b[39m     completed\u001b[33m:\u001b[39m completed\u001b[33m.\u001b[39mlength\u001b[33m,\u001b[39m\n         \u001b[90m 33 |\u001b[39m     failed\u001b[33m:\u001b[39m failed\u001b[33m.\u001b[39mlength\u001b[33m,\u001b[39m\u001b[0m\n\n          \u001b[2mat Object.length [as getQueueStatus] (\u001b[22msrc/services/queueService.js\u001b[2m:30:22)\u001b[22m\n          \u001b[2mat Object.<anonymous> (\u001b[22mtests/services/queueService.test.js\u001b[2m:117:7)\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 115 |\u001b[39m       mockQueue\u001b[33m.\u001b[39mgetWaiting\u001b[33m.\u001b[39mmockRejectedValue(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Queue connection failed'\u001b[39m))\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 116 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 117 |\u001b[39m       \u001b[36mawait\u001b[39m expect(queueService\u001b[33m.\u001b[39mgetQueueStatus())\u001b[33m.\u001b[39mrejects\u001b[33m.\u001b[39mtoThrow(\u001b[32m'Queue connection failed'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 118 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 119 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 120 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toThrow (\u001b[22m\u001b[2m../node_modules/expect/build/index.js\u001b[2m:2155:20)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toThrow (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/queueService.test.js\u001b[39m\u001b[0m\u001b[2m:117:59)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\queueService.test.js","startTime":1761196532477,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["CacheService","set method"],"duration":6,"failing":false,"failureDetails":[{"matcherResult":{"expected":true,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\cacheService.test.js:40:22)"],"fullName":"CacheService set method should set a value without TTL","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196533730,"status":"failed","title":"should set a value without TTL"},{"ancestorTitles":["CacheService","set method"],"duration":4,"failing":false,"failureDetails":[{"matcherResult":{"expected":true,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\cacheService.test.js:49:22)"],"fullName":"CacheService set method should set a value with TTL","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196533786,"status":"failed","title":"should set a value with TTL"},{"ancestorTitles":["CacheService","set method"],"duration":13,"failing":false,"failureDetails":[{"matcherResult":{"expected":false,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\cacheService.test.js:58:22)"],"fullName":"CacheService set method should handle Redis errors gracefully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196533793,"status":"failed","title":"should handle Redis errors gracefully"},{"ancestorTitles":["CacheService","set method"],"duration":11,"failing":false,"failureDetails":[{"matcherResult":{"expected":false,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\cacheService.test.js:66:22)"],"fullName":"CacheService set method should return false when not connected","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196533808,"status":"failed","title":"should return false when not connected"},{"ancestorTitles":["CacheService","get method"],"duration":4,"failing":false,"failureDetails":[{"matcherResult":{"expected":{"message":"hello","count":42},"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\nExpected: \u001b[32m{\"count\": 42, \"message\": \"hello\"}\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toEqual","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\nExpected: \u001b[32m{\"count\": 42, \"message\": \"hello\"}\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toEqual (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\cacheService.test.js:77:22)"],"fullName":"CacheService get method should get and parse JSON value","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196533822,"status":"failed","title":"should get and parse JSON value"},{"ancestorTitles":["CacheService","get method"],"duration":17,"failing":false,"failureDetails":[{"matcherResult":{"expected":null,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mnull\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mnull\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\cacheService.test.js:86:22)"],"fullName":"CacheService get method should return null for non-existent key","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196533838,"status":"failed","title":"should return null for non-existent key"},{"ancestorTitles":["CacheService","get method"],"duration":4,"failing":false,"failureDetails":[{"matcherResult":{"expected":null,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mnull\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mnull\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\cacheService.test.js:94:22)"],"fullName":"CacheService get method should handle invalid JSON gracefully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196533856,"status":"failed","title":"should handle invalid JSON gracefully"},{"ancestorTitles":["CacheService","get method"],"duration":3,"failing":false,"failureDetails":[{"matcherResult":{"expected":null,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mnull\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mnull\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\cacheService.test.js:102:22)"],"fullName":"CacheService get method should return null when not connected","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196533872,"status":"failed","title":"should return null when not connected"},{"ancestorTitles":["CacheService","del method"],"duration":9,"failing":false,"failureDetails":[{"matcherResult":{"expected":true,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\cacheService.test.js:112:22)"],"fullName":"CacheService del method should delete a key","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196533881,"status":"failed","title":"should delete a key"},{"ancestorTitles":["CacheService","del method"],"duration":13,"failing":false,"failureDetails":[{"matcherResult":{"expected":false,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBe (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\cacheService.test.js:121:22)"],"fullName":"CacheService del method should handle deletion errors","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196533892,"status":"failed","title":"should handle deletion errors"},{"ancestorTitles":["CacheService","exists method"],"duration":2,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: cacheService.exists is not a function\n    at Object.exists (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\cacheService.test.js:129:41)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"CacheService exists method should return true when key exists","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196533908,"status":"failed","title":"should return true when key exists"},{"ancestorTitles":["CacheService","exists method"],"duration":4,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: cacheService.exists is not a function\n    at Object.exists (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\cacheService.test.js:138:41)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"CacheService exists method should return false when key does not exist","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196533923,"status":"failed","title":"should return false when key does not exist"},{"ancestorTitles":["CacheService","exists method"],"duration":3,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: cacheService.exists is not a function\n    at Object.exists (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\cacheService.test.js:146:41)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"CacheService exists method should return false when not connected","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196533939,"status":"failed","title":"should return false when not connected"},{"ancestorTitles":["CacheService","mset method"],"duration":5,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: cacheService.mset is not a function\n    at Object.mset (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\cacheService.test.js:165:41)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"CacheService mset method should set multiple key-value pairs","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196533954,"status":"failed","title":"should set multiple key-value pairs"},{"ancestorTitles":["CacheService","mset method"],"duration":3,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: cacheService.mset is not a function\n    at Object.mset (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\cacheService.test.js:182:41)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"CacheService mset method should set multiple key-value pairs with TTL","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196533971,"status":"failed","title":"should set multiple key-value pairs with TTL"},{"ancestorTitles":["CacheService","mget method"],"duration":7,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: cacheService.mget is not a function\n    at Object.mget (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\cacheService.test.js:197:41)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"CacheService mget method should get multiple values","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196533977,"status":"failed","title":"should get multiple values"},{"ancestorTitles":["CacheService","flushAll method"],"duration":16,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: cacheService.flushAll is not a function\n    at Object.flushAll (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\cacheService.test.js:212:41)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"CacheService flushAll method should clear all cache","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196533988,"status":"failed","title":"should clear all cache"},{"ancestorTitles":["CacheService","getStats method"],"duration":3,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: cacheService.getStats is not a function\n    at Object.getStats (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\cacheService.test.js:224:41)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"CacheService getStats method should return stats when connected","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196534006,"status":"failed","title":"should return stats when connected"},{"ancestorTitles":["CacheService","getStats method"],"duration":17,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: cacheService.getStats is not a function\n    at Object.getStats (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\cacheService.test.js:236:41)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"CacheService getStats method should return disconnected status when not connected","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196534018,"status":"failed","title":"should return disconnected status when not connected"},{"ancestorTitles":["CacheService","parseRedisInfo method"],"duration":4,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: cacheService.parseRedisInfo is not a function\n    at Object.parseRedisInfo (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\cacheService.test.js:247:35)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"CacheService parseRedisInfo method should parse Redis INFO output correctly","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196534040,"status":"failed","title":"should parse Redis INFO output correctly"},{"ancestorTitles":["CacheService","parseRedisInfo method"],"duration":3,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: cacheService.parseRedisInfo is not a function\n    at Object.parseRedisInfo (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\cacheService.test.js:256:35)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"CacheService parseRedisInfo method should handle empty or invalid info gracefully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196534057,"status":"failed","title":"should handle empty or invalid info gracefully"},{"ancestorTitles":["CacheService","close method"],"duration":4,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: cacheService.close is not a function\n    at Object.close (C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\cacheService.test.js:266:26)\n    at Promise.finally.completed (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\Users\\deepa\\Documents\\DelAuto\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"CacheService close method should close Redis connection","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196534072,"status":"failed","title":"should close Redis connection"}],"endTime":1761196534255,"message":"\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mCacheService  set method  should set a value without TTL\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mtrue\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 38 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m cacheService\u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'test_key'\u001b[39m\u001b[33m,\u001b[39m { data\u001b[33m:\u001b[39m \u001b[32m'test'\u001b[39m })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 39 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 40 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 41 |\u001b[39m       expect(mockRedis\u001b[33m.\u001b[39m\u001b[36mset\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'test_key'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'{\"data\":\"test\"}'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 42 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 43 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/cacheService.test.js\u001b[39m\u001b[0m\u001b[2m:40:22)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mCacheService  set method  should set a value with TTL\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mtrue\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 47 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m cacheService\u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'test_key'\u001b[39m\u001b[33m,\u001b[39m { data\u001b[33m:\u001b[39m \u001b[32m'test'\u001b[39m }\u001b[33m,\u001b[39m \u001b[35m3600\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 48 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 49 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 50 |\u001b[39m       expect(mockRedis\u001b[33m.\u001b[39msetex)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'test_key'\u001b[39m\u001b[33m,\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'{\"data\":\"test\"}'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 51 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 52 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/cacheService.test.js\u001b[39m\u001b[0m\u001b[2m:49:22)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mCacheService  set method  should handle Redis errors gracefully\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mfalse\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 56 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m cacheService\u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'test_key'\u001b[39m\u001b[33m,\u001b[39m { data\u001b[33m:\u001b[39m \u001b[32m'test'\u001b[39m })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 57 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 58 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 59 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 60 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 61 |\u001b[39m     it(\u001b[32m'should return false when not connected'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/cacheService.test.js\u001b[39m\u001b[0m\u001b[2m:58:22)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mCacheService  set method  should return false when not connected\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mfalse\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 64 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m cacheService\u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'test_key'\u001b[39m\u001b[33m,\u001b[39m { data\u001b[33m:\u001b[39m \u001b[32m'test'\u001b[39m })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 65 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 66 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 67 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 68 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 69 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/cacheService.test.js\u001b[39m\u001b[0m\u001b[2m:66:22)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mCacheService  get method  should get and parse JSON value\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\n    Expected: \u001b[32m{\"count\": 42, \"message\": \"hello\"}\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 75 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m cacheService\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'test_key'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 76 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 77 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual(testData)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 78 |\u001b[39m       expect(mockRedis\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'test_key'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 79 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 80 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toEqual (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/cacheService.test.js\u001b[39m\u001b[0m\u001b[2m:77:22)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mCacheService  get method  should return null for non-existent key\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mnull\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 84 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m cacheService\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'nonexistent_key'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 85 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 86 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBe(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 87 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 88 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 89 |\u001b[39m     it(\u001b[32m'should handle invalid JSON gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/cacheService.test.js\u001b[39m\u001b[0m\u001b[2m:86:22)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mCacheService  get method  should handle invalid JSON gracefully\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mnull\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 92 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m cacheService\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'invalid_key'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 93 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 94 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBe(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 95 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 96 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 97 |\u001b[39m     it(\u001b[32m'should return null when not connected'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/cacheService.test.js\u001b[39m\u001b[0m\u001b[2m:94:22)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mCacheService  get method  should return null when not connected\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mnull\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 100 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m cacheService\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'test_key'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 101 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 102 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBe(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 103 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 104 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 105 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/cacheService.test.js\u001b[39m\u001b[0m\u001b[2m:102:22)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mCacheService  del method  should delete a key\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mtrue\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 110 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m cacheService\u001b[33m.\u001b[39mdel(\u001b[32m'test_key'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 111 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 112 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 113 |\u001b[39m       expect(mockRedis\u001b[33m.\u001b[39mdel)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'test_key'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 114 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 115 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/cacheService.test.js\u001b[39m\u001b[0m\u001b[2m:112:22)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mCacheService  del method  should handle deletion errors\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mfalse\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 119 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m cacheService\u001b[33m.\u001b[39mdel(\u001b[32m'test_key'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 120 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 121 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 122 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 124 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/cacheService.test.js\u001b[39m\u001b[0m\u001b[2m:121:22)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mCacheService  exists method  should return true when key exists\u001b[39m\u001b[22m\n\n    TypeError: cacheService.exists is not a function\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 127 |\u001b[39m       mockRedis\u001b[33m.\u001b[39mexists\u001b[33m.\u001b[39mmockResolvedValue(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 128 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 129 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m cacheService\u001b[33m.\u001b[39mexists(\u001b[32m'existing_key'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 130 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 131 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 132 |\u001b[39m       expect(mockRedis\u001b[33m.\u001b[39mexists)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'existing_key'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.exists (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/cacheService.test.js\u001b[39m\u001b[0m\u001b[2m:129:41)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mCacheService  exists method  should return false when key does not exist\u001b[39m\u001b[22m\n\n    TypeError: cacheService.exists is not a function\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 136 |\u001b[39m       mockRedis\u001b[33m.\u001b[39mexists\u001b[33m.\u001b[39mmockResolvedValue(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 137 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 138 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m cacheService\u001b[33m.\u001b[39mexists(\u001b[32m'nonexistent_key'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 139 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 140 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 141 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.exists (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/cacheService.test.js\u001b[39m\u001b[0m\u001b[2m:138:41)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mCacheService  exists method  should return false when not connected\u001b[39m\u001b[22m\n\n    TypeError: cacheService.exists is not a function\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 144 |\u001b[39m       cacheService\u001b[33m.\u001b[39misConnected \u001b[33m=\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 145 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 146 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m cacheService\u001b[33m.\u001b[39mexists(\u001b[32m'test_key'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 147 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 148 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 149 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.exists (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/cacheService.test.js\u001b[39m\u001b[0m\u001b[2m:146:41)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mCacheService  mset method  should set multiple key-value pairs\u001b[39m\u001b[22m\n\n    TypeError: cacheService.mset is not a function\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 163 |\u001b[39m       mockRedis\u001b[33m.\u001b[39mpipeline\u001b[33m.\u001b[39mmockReturnValue(mockPipeline)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 164 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 165 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m cacheService\u001b[33m.\u001b[39mmset(keyValuePairs)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 166 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 167 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 168 |\u001b[39m       expect(mockRedis\u001b[33m.\u001b[39mpipeline)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.mset (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/cacheService.test.js\u001b[39m\u001b[0m\u001b[2m:165:41)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mCacheService  mset method  should set multiple key-value pairs with TTL\u001b[39m\u001b[22m\n\n    TypeError: cacheService.mset is not a function\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 180 |\u001b[39m       mockRedis\u001b[33m.\u001b[39mpipeline\u001b[33m.\u001b[39mmockReturnValue(mockPipeline)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 181 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 182 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m cacheService\u001b[33m.\u001b[39mmset(keyValuePairs\u001b[33m,\u001b[39m \u001b[35m3600\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 183 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 184 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 185 |\u001b[39m       expect(mockPipeline\u001b[33m.\u001b[39msetex)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.mset (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/cacheService.test.js\u001b[39m\u001b[0m\u001b[2m:182:41)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mCacheService  mget method  should get multiple values\u001b[39m\u001b[22m\n\n    TypeError: cacheService.mget is not a function\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 195 |\u001b[39m       mockRedis\u001b[33m.\u001b[39mmget\u001b[33m.\u001b[39mmockResolvedValue(values)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 196 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 197 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m cacheService\u001b[33m.\u001b[39mmget(keys)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 198 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 199 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\u001b[22m\n\u001b[2m     \u001b[90m 200 |\u001b[39m         key1\u001b[33m:\u001b[39m { data\u001b[33m:\u001b[39m \u001b[32m'value1'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.mget (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/cacheService.test.js\u001b[39m\u001b[0m\u001b[2m:197:41)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mCacheService  flushAll method  should clear all cache\u001b[39m\u001b[22m\n\n    TypeError: cacheService.flushAll is not a function\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 210 |\u001b[39m       mockRedis\u001b[33m.\u001b[39mflushall\u001b[33m.\u001b[39mmockResolvedValue(\u001b[32m'OK'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 211 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 212 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m cacheService\u001b[33m.\u001b[39mflushAll()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 213 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 214 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 215 |\u001b[39m       expect(mockRedis\u001b[33m.\u001b[39mflushall)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.flushAll (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/cacheService.test.js\u001b[39m\u001b[0m\u001b[2m:212:41)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mCacheService  getStats method  should return stats when connected\u001b[39m\u001b[22m\n\n    TypeError: cacheService.getStats is not a function\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 222 |\u001b[39m       mockRedis\u001b[33m.\u001b[39minfo\u001b[33m.\u001b[39mmockResolvedValue(infoString)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 223 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 224 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m cacheService\u001b[33m.\u001b[39mgetStats()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 225 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 226 |\u001b[39m       expect(result\u001b[33m.\u001b[39mconnected)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 227 |\u001b[39m       expect(result\u001b[33m.\u001b[39minfo)\u001b[33m.\u001b[39mtoEqual({\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.getStats (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/cacheService.test.js\u001b[39m\u001b[0m\u001b[2m:224:41)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mCacheService  getStats method  should return disconnected status when not connected\u001b[39m\u001b[22m\n\n    TypeError: cacheService.getStats is not a function\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 234 |\u001b[39m       cacheService\u001b[33m.\u001b[39misConnected \u001b[33m=\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 235 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 236 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m cacheService\u001b[33m.\u001b[39mgetStats()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 237 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 238 |\u001b[39m       expect(result\u001b[33m.\u001b[39mconnected)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 239 |\u001b[39m       expect(result\u001b[33m.\u001b[39minfo)\u001b[33m.\u001b[39mtoBe(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.getStats (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/cacheService.test.js\u001b[39m\u001b[0m\u001b[2m:236:41)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mCacheService  parseRedisInfo method  should parse Redis INFO output correctly\u001b[39m\u001b[22m\n\n    TypeError: cacheService.parseRedisInfo is not a function\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 245 |\u001b[39m       \u001b[36mconst\u001b[39m infoString \u001b[33m=\u001b[39m \u001b[32m'# Server\\r\\nredis_version:6.2.0\\r\\n# Memory\\r\\nused_memory:1024\\r\\n'\u001b[39m\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 246 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 247 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m cacheService\u001b[33m.\u001b[39mparseRedisInfo(infoString)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 248 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 249 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\u001b[22m\n\u001b[2m     \u001b[90m 250 |\u001b[39m         redis_version\u001b[33m:\u001b[39m \u001b[32m'6.2.0'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.parseRedisInfo (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/cacheService.test.js\u001b[39m\u001b[0m\u001b[2m:247:35)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mCacheService  parseRedisInfo method  should handle empty or invalid info gracefully\u001b[39m\u001b[22m\n\n    TypeError: cacheService.parseRedisInfo is not a function\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 254 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 255 |\u001b[39m     it(\u001b[32m'should handle empty or invalid info gracefully'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 256 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m cacheService\u001b[33m.\u001b[39mparseRedisInfo(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 257 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 258 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({})\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 259 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.parseRedisInfo (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/cacheService.test.js\u001b[39m\u001b[0m\u001b[2m:256:35)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m \u001b[22m\u001b[1mCacheService  close method  should close Redis connection\u001b[39m\u001b[22m\n\n    TypeError: cacheService.close is not a function\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 264 |\u001b[39m       mockRedis\u001b[33m.\u001b[39mquit\u001b[33m.\u001b[39mmockResolvedValue(\u001b[32m'OK'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 265 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 266 |\u001b[39m       \u001b[36mawait\u001b[39m cacheService\u001b[33m.\u001b[39mclose()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 267 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 268 |\u001b[39m       expect(mockRedis\u001b[33m.\u001b[39mquit)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 269 |\u001b[39m       expect(cacheService\u001b[33m.\u001b[39misConnected)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.close (\u001b[22m\u001b[2m\u001b[0m\u001b[36mservices/cacheService.test.js\u001b[39m\u001b[0m\u001b[2m:266:26)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Users\\deepa\\Documents\\DelAuto\\tests\\services\\cacheService.test.js","startTime":1761196533485,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Calls API Routes","POST /api/calls/initiate"],"duration":952,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Calls API Routes POST /api/calls/initiate should initiate call successfully","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1761196536756,"status":"passed","title":"should initiate call successfully"},{"ancestorTitles":["Calls API Routes","POST /api/calls/initiate"],"duration":51,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Calls API Routes POST /api/calls/initiate should initiate call with delay","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196537719,"status":"passed","title":"should initiate call with delay"},{"ancestorTitles":["Calls API Routes","POST /api/calls/initiate"],"duration":80,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Calls API Routes POST /api/calls/initiate should return 400 when delivery_id is missing","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1761196537818,"status":"passed","title":"should return 400 when delivery_id is missing"},{"ancestorTitles":["Calls API Routes","POST /api/calls/initiate"],"duration":183,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Calls API Routes POST /api/calls/initiate should return 404 when delivery not found","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1761196537909,"status":"passed","title":"should return 404 when delivery not found"},{"ancestorTitles":["Calls API Routes","POST /api/calls/initiate"],"duration":250,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Calls API Routes POST /api/calls/initiate should handle database errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196538106,"status":"passed","title":"should handle database errors"},{"ancestorTitles":["Calls API Routes","POST /api/calls/initiate"],"duration":222,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Calls API Routes POST /api/calls/initiate should handle queue service errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196538387,"status":"passed","title":"should handle queue service errors"},{"ancestorTitles":["Calls API Routes","GET /api/calls/:delivery_id"],"duration":110,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Calls API Routes GET /api/calls/:delivery_id should get call logs for delivery","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1761196538649,"status":"passed","title":"should get call logs for delivery"},{"ancestorTitles":["Calls API Routes","GET /api/calls/:delivery_id"],"duration":97,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Calls API Routes GET /api/calls/:delivery_id should return empty array when no call logs exist","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196538806,"status":"passed","title":"should return empty array when no call logs exist"},{"ancestorTitles":["Calls API Routes","GET /api/calls/:delivery_id"],"duration":154,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Calls API Routes GET /api/calls/:delivery_id should handle database errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196538904,"status":"passed","title":"should handle database errors"},{"ancestorTitles":["Calls API Routes","GET /api/calls/:delivery_id"],"duration":84,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Calls API Routes GET /api/calls/:delivery_id should handle different delivery IDs","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196539059,"status":"passed","title":"should handle different delivery IDs"},{"ancestorTitles":["Calls API Routes","Error handling"],"duration":72,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Calls API Routes Error handling should handle malformed JSON in request body","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196539151,"status":"passed","title":"should handle malformed JSON in request body"},{"ancestorTitles":["Calls API Routes","Error handling"],"duration":64,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Calls API Routes Error handling should handle empty request body","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196539226,"status":"passed","title":"should handle empty request body"},{"ancestorTitles":["Calls API Routes","Route parameters"],"duration":56,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Calls API Routes Route parameters should extract delivery_id from URL params correctly","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196539305,"status":"passed","title":"should extract delivery_id from URL params correctly"}],"endTime":1761196539405,"message":"","name":"C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\calls.test.js","startTime":1761196534409,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Analytics API Routes","GET /api/analytics/dashboard"],"duration":1012,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes GET /api/analytics/dashboard should return dashboard summary","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196540712,"status":"passed","title":"should return dashboard summary"},{"ancestorTitles":["Analytics API Routes","GET /api/analytics/dashboard"],"duration":201,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes GET /api/analytics/dashboard should handle errors gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196541978,"status":"passed","title":"should handle errors gracefully"},{"ancestorTitles":["Analytics API Routes","GET /api/analytics/overview"],"duration":76,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes GET /api/analytics/overview should return overview stats in legacy format","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196542201,"status":"passed","title":"should return overview stats in legacy format"},{"ancestorTitles":["Analytics API Routes","GET /api/analytics/agent-performance"],"duration":170,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes GET /api/analytics/agent-performance should return paginated agent performance data","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196542309,"status":"passed","title":"should return paginated agent performance data"},{"ancestorTitles":["Analytics API Routes","GET /api/analytics/agent-performance"],"duration":144,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes GET /api/analytics/agent-performance should apply date filters when provided","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196542507,"status":"passed","title":"should apply date filters when provided"},{"ancestorTitles":["Analytics API Routes","GET /api/analytics/delivery-status"],"duration":87,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes GET /api/analytics/delivery-status should return delivery status breakdown","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196542740,"status":"passed","title":"should return delivery status breakdown"},{"ancestorTitles":["Analytics API Routes","GET /api/analytics/deliveries"],"duration":145,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes GET /api/analytics/deliveries should return detailed delivery analytics","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196542886,"status":"passed","title":"should return detailed delivery analytics"},{"ancestorTitles":["Analytics API Routes","GET /api/analytics/deliveries"],"duration":96,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes GET /api/analytics/deliveries should apply filters when provided","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196543064,"status":"passed","title":"should apply filters when provided"},{"ancestorTitles":["Analytics API Routes","GET /api/analytics/calls"],"duration":110,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes GET /api/analytics/calls should return call analytics","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196543182,"status":"passed","title":"should return call analytics"},{"ancestorTitles":["Analytics API Routes","GET /api/analytics/calls"],"duration":77,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes GET /api/analytics/calls should apply date filters","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196543307,"status":"passed","title":"should apply date filters"},{"ancestorTitles":["Analytics API Routes","GET /api/analytics/timeseries/:metric"],"duration":197,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes GET /api/analytics/timeseries/:metric should return timeseries data for valid metrics","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196543410,"status":"passed","title":"should return timeseries data for valid metrics"},{"ancestorTitles":["Analytics API Routes","GET /api/analytics/timeseries/:metric"],"duration":546,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes GET /api/analytics/timeseries/:metric should reject invalid metrics","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196543651,"status":"passed","title":"should reject invalid metrics"},{"ancestorTitles":["Analytics API Routes","GET /api/analytics/timeseries/:metric"],"duration":102,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes GET /api/analytics/timeseries/:metric should apply date filters to timeseries","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196544593,"status":"passed","title":"should apply date filters to timeseries"},{"ancestorTitles":["Analytics API Routes","POST /api/analytics/ai/process-recording"],"duration":136,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes POST /api/analytics/ai/process-recording should process recording with AI","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196544709,"status":"passed","title":"should process recording with AI"},{"ancestorTitles":["Analytics API Routes","POST /api/analytics/ai/process-recording"],"duration":57,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes POST /api/analytics/ai/process-recording should require recordingUrl and recordingId","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196544862,"status":"passed","title":"should require recordingUrl and recordingId"},{"ancestorTitles":["Analytics API Routes","GET /api/analytics/ai/status"],"duration":84,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes GET /api/analytics/ai/status should return AI service status","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196544935,"status":"passed","title":"should return AI service status"},{"ancestorTitles":["Analytics API Routes","POST /api/analytics/clear-cache"],"duration":92,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes POST /api/analytics/clear-cache should clear analytics cache","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196545030,"status":"passed","title":"should clear analytics cache"},{"ancestorTitles":["Analytics API Routes","POST /api/analytics/clear-cache"],"duration":188,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes POST /api/analytics/clear-cache should handle clear cache errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196545241,"status":"passed","title":"should handle clear cache errors"},{"ancestorTitles":["Analytics API Routes","GET /api/analytics/agent/:agentId"],"duration":80,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes GET /api/analytics/agent/:agentId should return agent personal stats","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196545484,"status":"passed","title":"should return agent personal stats"},{"ancestorTitles":["Analytics API Routes","GET /api/analytics/failed-delivery-reduction"],"duration":89,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes GET /api/analytics/failed-delivery-reduction should return failed delivery reduction metrics","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196545631,"status":"passed","title":"should return failed delivery reduction metrics"},{"ancestorTitles":["Analytics API Routes","GET /api/analytics/failed-delivery-reduction"],"duration":220,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes GET /api/analytics/failed-delivery-reduction should handle errors gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196545829,"status":"passed","title":"should handle errors gracefully"},{"ancestorTitles":["Analytics API Routes","GET /api/analytics/customer-response-patterns"],"duration":90,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes GET /api/analytics/customer-response-patterns should return customer response pattern analytics","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196546077,"status":"passed","title":"should return customer response pattern analytics"},{"ancestorTitles":["Analytics API Routes","GET /api/analytics/customer-response-patterns"],"duration":333,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes GET /api/analytics/customer-response-patterns should handle errors gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196546189,"status":"passed","title":"should handle errors gracefully"},{"ancestorTitles":["Analytics API Routes","GET /api/analytics/agent-compliance"],"duration":103,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes GET /api/analytics/agent-compliance should return agent compliance metrics","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196546964,"status":"passed","title":"should return agent compliance metrics"},{"ancestorTitles":["Analytics API Routes","GET /api/analytics/agent-compliance"],"duration":336,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes GET /api/analytics/agent-compliance should handle errors gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196547177,"status":"passed","title":"should handle errors gracefully"},{"ancestorTitles":["Analytics API Routes","GET /api/analytics/roi"],"duration":105,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes GET /api/analytics/roi should return ROI analysis for delivery automation","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196547594,"status":"passed","title":"should return ROI analysis for delivery automation"},{"ancestorTitles":["Analytics API Routes","GET /api/analytics/roi"],"duration":304,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Analytics API Routes GET /api/analytics/roi should handle errors gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196547756,"status":"passed","title":"should handle errors gracefully"}],"endTime":1761196548089,"message":"","name":"C:\\Users\\deepa\\Documents\\DelAuto\\tests\\api\\routes\\analytics.test.js","startTime":1761196539579,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Auth Middleware","authenticateApiKey"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware authenticateApiKey should authenticate with valid API key in x-api-key header","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196553108,"status":"passed","title":"should authenticate with valid API key in x-api-key header"},{"ancestorTitles":["Auth Middleware","authenticateApiKey"],"duration":17,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware authenticateApiKey should authenticate with valid API key in authorization header","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196553120,"status":"passed","title":"should authenticate with valid API key in authorization header"},{"ancestorTitles":["Auth Middleware","authenticateApiKey"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware authenticateApiKey should reject request with missing API key","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196553150,"status":"passed","title":"should reject request with missing API key"},{"ancestorTitles":["Auth Middleware","authenticateApiKey"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware authenticateApiKey should reject request with invalid API key","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196553164,"status":"passed","title":"should reject request with invalid API key"},{"ancestorTitles":["Auth Middleware","authenticateApiKey"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware authenticateApiKey should reject request when no valid API key is configured","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196553172,"status":"passed","title":"should reject request when no valid API key is configured"},{"ancestorTitles":["Auth Middleware","authenticateApiKey"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware authenticateApiKey should handle API key without Bearer prefix","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196553196,"status":"passed","title":"should handle API key without Bearer prefix"},{"ancestorTitles":["Auth Middleware","authenticateJWT"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware authenticateJWT should authenticate with valid JWT token","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1761196553204,"status":"passed","title":"should authenticate with valid JWT token"},{"ancestorTitles":["Auth Middleware","authenticateJWT"],"duration":14,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware authenticateJWT should use default secret when JWT_SECRET not provided","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196553217,"status":"passed","title":"should use default secret when JWT_SECRET not provided"},{"ancestorTitles":["Auth Middleware","authenticateJWT"],"duration":14,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware authenticateJWT should reject request with missing token","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196553234,"status":"passed","title":"should reject request with missing token"},{"ancestorTitles":["Auth Middleware","authenticateJWT"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware authenticateJWT should reject request with invalid token","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196553256,"status":"passed","title":"should reject request with invalid token"},{"ancestorTitles":["Auth Middleware","authenticateJWT"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware authenticateJWT should handle authorization header without Bearer prefix","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196553353,"status":"passed","title":"should handle authorization header without Bearer prefix"},{"ancestorTitles":["Auth Middleware","authenticateJWT"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware authenticateJWT should handle empty token after Bearer","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196553399,"status":"passed","title":"should handle empty token after Bearer"},{"ancestorTitles":["Auth Middleware","requireAdmin"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware requireAdmin should allow access for admin users","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196553414,"status":"passed","title":"should allow access for admin users"},{"ancestorTitles":["Auth Middleware","requireAdmin"],"duration":56,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware requireAdmin should reject non-admin users","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196553430,"status":"passed","title":"should reject non-admin users"},{"ancestorTitles":["Auth Middleware","requireAdmin"],"duration":17,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware requireAdmin should reject users with no role","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196553520,"status":"passed","title":"should reject users with no role"},{"ancestorTitles":["Auth Middleware","requireAdmin"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware requireAdmin should reject when no agent in request","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196553588,"status":"passed","title":"should reject when no agent in request"}],"endTime":1761196553613,"message":"","name":"C:\\Users\\deepa\\Documents\\DelAuto\\tests\\middleware\\auth.test.js","startTime":1761196551454,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Validation Middleware","validateBody"],"duration":15,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware validateBody should pass validation with valid data","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196554551,"status":"passed","title":"should pass validation with valid data"},{"ancestorTitles":["Validation Middleware","validateBody"],"duration":17,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware validateBody should fail validation with invalid data","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196554615,"status":"passed","title":"should fail validation with invalid data"},{"ancestorTitles":["Validation Middleware","validateBody"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware validateBody should fail validation with missing required fields","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196554635,"status":"passed","title":"should fail validation with missing required fields"},{"ancestorTitles":["Validation Middleware","validateQuery"],"duration":31,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware validateQuery should pass validation with valid query params","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196554668,"status":"passed","title":"should pass validation with valid query params"},{"ancestorTitles":["Validation Middleware","validateQuery"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware validateQuery should fail validation with invalid query params","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196554834,"status":"passed","title":"should fail validation with invalid query params"},{"ancestorTitles":["Validation Middleware","validateParams"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware validateParams should pass validation with valid params","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196554935,"status":"passed","title":"should pass validation with valid params"},{"ancestorTitles":["Validation Middleware","validateParams"],"duration":50,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware validateParams should fail validation with invalid params","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196554963,"status":"passed","title":"should fail validation with invalid params"},{"ancestorTitles":["Validation Middleware","schemas.agentCreate"],"duration":54,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware schemas.agentCreate should validate agent creation with all required fields","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196555068,"status":"passed","title":"should validate agent creation with all required fields"},{"ancestorTitles":["Validation Middleware","schemas.agentCreate"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware schemas.agentCreate should fail with invalid phone number","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196555508,"status":"passed","title":"should fail with invalid phone number"},{"ancestorTitles":["Validation Middleware","schemas.agentCreate"],"duration":12,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware schemas.agentCreate should fail with short password","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196555641,"status":"passed","title":"should fail with short password"},{"ancestorTitles":["Validation Middleware","schemas.agentCreate"],"duration":25,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware schemas.agentCreate should validate location coordinates","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196555741,"status":"passed","title":"should validate location coordinates"},{"ancestorTitles":["Validation Middleware","schemas.deliveryCreate"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware schemas.deliveryCreate should validate delivery creation with all required fields","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196555837,"status":"passed","title":"should validate delivery creation with all required fields"},{"ancestorTitles":["Validation Middleware","schemas.deliveryCreate"],"duration":14,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware schemas.deliveryCreate should validate delivery items","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196555866,"status":"passed","title":"should validate delivery items"},{"ancestorTitles":["Validation Middleware","schemas.deliveryCreate"],"duration":16,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware schemas.deliveryCreate should fail with invalid priority","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196555887,"status":"passed","title":"should fail with invalid priority"},{"ancestorTitles":["Validation Middleware","schemas.callInitiate"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware schemas.callInitiate should validate call initiation data","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196555914,"status":"passed","title":"should validate call initiation data"},{"ancestorTitles":["Validation Middleware","schemas.callInitiate"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware schemas.callInitiate should fail with invalid ObjectId","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196555948,"status":"passed","title":"should fail with invalid ObjectId"},{"ancestorTitles":["Validation Middleware","schemas.locationUpdate"],"duration":32,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware schemas.locationUpdate should validate location update data","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196555966,"status":"passed","title":"should validate location update data"},{"ancestorTitles":["Validation Middleware","schemas.locationUpdate"],"duration":22,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware schemas.locationUpdate should fail with invalid coordinates","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196556027,"status":"passed","title":"should fail with invalid coordinates"},{"ancestorTitles":["Validation Middleware","schemas.pagination"],"duration":25,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware schemas.pagination should validate pagination parameters","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196556075,"status":"passed","title":"should validate pagination parameters"},{"ancestorTitles":["Validation Middleware","schemas.pagination"],"duration":15,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware schemas.pagination should apply defaults for missing values","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1761196556116,"status":"passed","title":"should apply defaults for missing values"},{"ancestorTitles":["Validation Middleware","schemas.pagination"],"duration":21,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware schemas.pagination should fail with invalid order value","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196556139,"status":"passed","title":"should fail with invalid order value"},{"ancestorTitles":["Validation Middleware","schemas.login"],"duration":25,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware schemas.login should validate login credentials","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196556170,"status":"passed","title":"should validate login credentials"},{"ancestorTitles":["Validation Middleware","schemas.login"],"duration":33,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware schemas.login should fail with invalid email","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196556256,"status":"passed","title":"should fail with invalid email"},{"ancestorTitles":["Validation Middleware","schemas.idParam"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware schemas.idParam should validate MongoDB ObjectId parameter","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196556330,"status":"passed","title":"should validate MongoDB ObjectId parameter"},{"ancestorTitles":["Validation Middleware","schemas.idParam"],"duration":14,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware schemas.idParam should fail with invalid ObjectId format","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196556338,"status":"passed","title":"should fail with invalid ObjectId format"}],"endTime":1761196556362,"message":"","name":"C:\\Users\\deepa\\Documents\\DelAuto\\tests\\middleware\\validation.test.js","startTime":1761196553931,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Utility Helpers","formatPhoneNumber"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Utility Helpers formatPhoneNumber should format US phone numbers correctly","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1761196556978,"status":"passed","title":"should format US phone numbers correctly"},{"ancestorTitles":["Utility Helpers","formatPhoneNumber"],"duration":16,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Utility Helpers formatPhoneNumber should handle US numbers with country code","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196556996,"status":"passed","title":"should handle US numbers with country code"},{"ancestorTitles":["Utility Helpers","formatPhoneNumber"],"duration":12,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Utility Helpers formatPhoneNumber should handle international phone numbers","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196557032,"status":"passed","title":"should handle international phone numbers"},{"ancestorTitles":["Utility Helpers","formatPhoneNumber"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Utility Helpers formatPhoneNumber should handle invalid phone numbers","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1761196557068,"status":"passed","title":"should handle invalid phone numbers"},{"ancestorTitles":["Utility Helpers","formatPhoneNumber"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Utility Helpers formatPhoneNumber should validate phone number lengths","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196557081,"status":"passed","title":"should validate phone number lengths"},{"ancestorTitles":["Utility Helpers","formatPhoneNumber"],"duration":13,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Utility Helpers formatPhoneNumber should handle non-string input","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196557121,"status":"passed","title":"should handle non-string input"},{"ancestorTitles":["Utility Helpers","validateEmail"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Utility Helpers validateEmail should validate correct email formats","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196557153,"status":"passed","title":"should validate correct email formats"},{"ancestorTitles":["Utility Helpers","validateEmail"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Utility Helpers validateEmail should reject invalid email formats","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1761196557192,"status":"passed","title":"should reject invalid email formats"},{"ancestorTitles":["Utility Helpers","validateEmail"],"duration":29,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Utility Helpers validateEmail should handle edge cases","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1761196557235,"status":"passed","title":"should handle edge cases"},{"ancestorTitles":["Utility Helpers","validateEmail"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Utility Helpers validateEmail should reject emails with spaces","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196557315,"status":"passed","title":"should reject emails with spaces"},{"ancestorTitles":["Utility Helpers","generateId"],"duration":35,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Utility Helpers generateId should generate unique IDs","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1761196557384,"status":"passed","title":"should generate unique IDs"},{"ancestorTitles":["Utility Helpers","generateId"],"duration":13,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Utility Helpers generateId should generate IDs with prefix","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196557497,"status":"passed","title":"should generate IDs with prefix"},{"ancestorTitles":["Utility Helpers","generateId"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Utility Helpers generateId should generate IDs without prefix","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196557675,"status":"passed","title":"should generate IDs without prefix"},{"ancestorTitles":["Utility Helpers","generateId"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Utility Helpers generateId should handle empty prefix","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196558331,"status":"passed","title":"should handle empty prefix"},{"ancestorTitles":["Utility Helpers","sanitizeString"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Utility Helpers sanitizeString should remove dangerous characters","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196558607,"status":"passed","title":"should remove dangerous characters"},{"ancestorTitles":["Utility Helpers","sanitizeString"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Utility Helpers sanitizeString should trim whitespace","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196559046,"status":"passed","title":"should trim whitespace"},{"ancestorTitles":["Utility Helpers","sanitizeString"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Utility Helpers sanitizeString should handle edge cases","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1761196559349,"status":"passed","title":"should handle edge cases"},{"ancestorTitles":["Utility Helpers","sanitizeString"],"duration":87,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Utility Helpers sanitizeString should preserve safe characters","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196559596,"status":"passed","title":"should preserve safe characters"}],"endTime":1761196560151,"message":"","name":"C:\\Users\\deepa\\Documents\\DelAuto\\tests\\utils\\helpers.test.js","startTime":1761196556569,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Basic Test Suite"],"duration":21,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Basic Test Suite should pass a simple test","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196561269,"status":"passed","title":"should pass a simple test"},{"ancestorTitles":["Basic Test Suite"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Basic Test Suite should work with async operations","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196561496,"status":"passed","title":"should work with async operations"},{"ancestorTitles":["Basic Test Suite"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Basic Test Suite should handle objects correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1761196561811,"status":"passed","title":"should handle objects correctly"},{"ancestorTitles":["Environment Configuration"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Environment Configuration should have NODE_ENV set to test","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1761196562209,"status":"passed","title":"should have NODE_ENV set to test"},{"ancestorTitles":["Environment Configuration"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Environment Configuration should load environment variables from .env.test","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1761196562466,"status":"passed","title":"should load environment variables from .env.test"}],"endTime":1761196562648,"message":"","name":"C:\\Users\\deepa\\Documents\\DelAuto\\tests\\unit\\basic.test.js","startTime":1761196560192,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["End-to-End Integration Tests","Complete Delivery Workflow"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"End-to-End Integration Tests Complete Delivery Workflow should handle complete delivery lifecycle","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196568041,"status":"pending","title":"should handle complete delivery lifecycle"},{"ancestorTitles":["End-to-End Integration Tests","Complete Delivery Workflow"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"End-to-End Integration Tests Complete Delivery Workflow should handle failed call scenario with retry","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196568042,"status":"pending","title":"should handle failed call scenario with retry"},{"ancestorTitles":["End-to-End Integration Tests","Complete Delivery Workflow"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"End-to-End Integration Tests Complete Delivery Workflow should handle customer no-answer scenario","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196568042,"status":"pending","title":"should handle customer no-answer scenario"},{"ancestorTitles":["End-to-End Integration Tests","Multi-language Support Integration"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"End-to-End Integration Tests Multi-language Support Integration should handle Spanish language delivery workflow","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196568043,"status":"pending","title":"should handle Spanish language delivery workflow"},{"ancestorTitles":["End-to-End Integration Tests","Real-time Notifications Integration"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"End-to-End Integration Tests Real-time Notifications Integration should send push notifications to agents when recording is ready","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196568043,"status":"pending","title":"should send push notifications to agents when recording is ready"},{"ancestorTitles":["End-to-End Integration Tests","Analytics and AI Integration"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"End-to-End Integration Tests Analytics and AI Integration should process recordings with AI and update analytics","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196568044,"status":"pending","title":"should process recordings with AI and update analytics"},{"ancestorTitles":["End-to-End Integration Tests","Analytics and AI Integration"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"End-to-End Integration Tests Analytics and AI Integration should generate customer response pattern insights","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196568044,"status":"pending","title":"should generate customer response pattern insights"},{"ancestorTitles":["End-to-End Integration Tests","Smart Agent Assignment Integration"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"End-to-End Integration Tests Smart Agent Assignment Integration should assign agent based on delivery complexity and performance","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196568045,"status":"pending","title":"should assign agent based on delivery complexity and performance"},{"ancestorTitles":["End-to-End Integration Tests","Mobile App API Integration"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"End-to-End Integration Tests Mobile App API Integration should provide mobile-optimized agent dashboard","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196568046,"status":"pending","title":"should provide mobile-optimized agent dashboard"},{"ancestorTitles":["End-to-End Integration Tests","Mobile App API Integration"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"End-to-End Integration Tests Mobile App API Integration should handle offline capability for mobile agents","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196568046,"status":"pending","title":"should handle offline capability for mobile agents"},{"ancestorTitles":["End-to-End Integration Tests","Admin Dashboard Integration"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"End-to-End Integration Tests Admin Dashboard Integration should provide comprehensive system overview for admins","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196568047,"status":"pending","title":"should provide comprehensive system overview for admins"},{"ancestorTitles":["End-to-End Integration Tests","Admin Dashboard Integration"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"End-to-End Integration Tests Admin Dashboard Integration should allow admin to manage agents and deliveries","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196568047,"status":"pending","title":"should allow admin to manage agents and deliveries"},{"ancestorTitles":["End-to-End Integration Tests","System Health and Monitoring Integration"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"End-to-End Integration Tests System Health and Monitoring Integration should provide health check endpoint","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196568051,"status":"pending","title":"should provide health check endpoint"},{"ancestorTitles":["End-to-End Integration Tests","System Health and Monitoring Integration"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"End-to-End Integration Tests System Health and Monitoring Integration should provide detailed metrics","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761196568051,"status":"pending","title":"should provide detailed metrics"}],"coverage":{},"endTime":1761196568656,"message":"","name":"C:\\Users\\deepa\\Documents\\DelAuto\\tests\\integration\\endToEnd.test.js","startTime":1761196568656,"status":"skipped","summary":""}],"wasInterrupted":false}
